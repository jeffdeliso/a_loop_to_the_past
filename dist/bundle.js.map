{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/enemies/blue_knight.js","webpack:///./src/enemies/enemy.js","webpack:///./src/enemies/lynel.js","webpack:///./src/enemies/moblin.js","webpack:///./src/enemies/mummy.js","webpack:///./src/enemies/snake.js","webpack:///./src/entity.js","webpack:///./src/game.js","webpack:///./src/game_view.js","webpack:///./src/heart.js","webpack:///./src/index.js","webpack:///./src/link.js","webpack:///./src/obstacle.js","webpack:///./src/sword.js"],"names":["BLUE_DOWN","BLUE_UP","BLUE_LEFT","BLUE_RIGHT","BlueKnight","options","blueSprite","Image","src","blueSprite2","frameLen","box","life","delta","dropChance","draw","bind","update","tickCount","ticksPerFrame","frameIndex","remove","ctx","drawDeath","walkDir","length","drawImage","pos","scale","Enemy","DEATH","link","enemySprite","enemySprite2","deathSprite","hitSound","Audio","deathSound","angle1","angle2","move","toggleHit","dx","x","dy","y","len","Math","sqrt","pow","angleToLink","angleToPos","angleToLink1","angleToLink2","dist","distanceToObject","timeOut","walking","clearTimeout","checkObstacles","setTimeout","PI","angle","obstacles","game","i","obj","objectBetweenSelfAndLink","borders","width","height","corners","j","corner","newPos","findNewPoint","intersects","a","b","c","d","p","q","r","s","det","gamma","lambda","distance","result","round","cos","sin","timeDelta","toggleMoveThrough","vel","hit","findMoveAngle","vect","setWalkDir","hitVect","velocityScale","NORMAL_FRAME_TIME_DELTA","offsetX","offsetY","enemyIsOutOfBounds","newPosX","newPosY","moveThrough","enemyWillCollideWithEnemy","linkVect","vectorTowardsLink","abs","play","Entity","LYNEL_DOWN","LYNEL_UP","LYNEL_LEFT","LYNEL_RIGHT","Lynel","lynelSprite","lynelSprite2","MOBLIN_DOWN","MOBLIN_UP","MOBLIN_LEFT","MOBLIN_RIGHT","Moblin","moblinSprite","MUMMY_DOWN","MUMMY_UP","MUMMY_LEFT","MUMMY_RIGHT","Mummy","SNAKE_DOWN","SNAKE_UP","SNAKE_LEFT","SNAKE_RIGHT","Snake","otherObject","atan","lowerLeft","lowerRight","upperLeft","upperRight","max","min","SPAWN_POS","Game","pauseSound","heartSound","overworldMusic","kakarikoMusic","selectMusic","muteButton","document","getElementById","soundButton","killCount","Link","enemies","items","song","muted","spawnEnemies","count","parseKeyDown","togglePause","muteGame","unmuteGame","stopMusic","music","updateKillCount","onclick","addObstacles","e","preventDefault","keyCode","addEnemies","enterEl","style","opacity","controlsEl","gameover","classList","toggle","pause","currentTime","onended","pauseEl","paused","visibility","concat","object","Obstacle","push","floor","random","enemyIdx","add","forEach","Heart","addHeart","splice","indexOf","innerHTML","removeTimeouts","DIM_X","DIM_Y","willCollideWithObstacle","enemy","otherEnemy","willCollideWith","obstacle","heart","isCollidedWith","removeItem","hitByEnemy","hurtBox","hitByLink","allMovingObjects","addEnemyToRandomSpawn","moveObjects","checkEnemyWillCollideWithSword","checkEnemyCollidedWithLink","linkCollidedWithItem","clearRect","fillStyle","fillRect","allObjects","FPS","GameView","animate","restartSound","addEventListener","parseKeyUp","bindKeyHandlers","lastTime","requestAnimationFrame","time","step","btn","createElement","text","createTextNode","appendChild","newGame","parent","removeChild","start","heartSprite","startFlash","flashCount","flashTimeout","flash","removeTimout","canvasEl","getElementsByTagName","getContext","WALK_DOWN","WALK_UP","WALK_SIDE","SWORD_UP","SWORD_DOWN","SWORD_LEFT","SWORD_RIGHT","SPIN_DOWN","SPIN_UP","SPIN_LEFT","SPIN_RIGHT","linkSprite","linkSprite2","linkSprite3","swordSound","hurtSound","swordChargeSound","swordSpinSound","canSwing","toggleSword","toggleInvinsible","createHurtBox","toggleSpin","spinCharged","spinning","cancelSpin","Sword","window","spinTimout","soundTimout","chargingSpin","up","left","down","right","swingSword","sword","isOutOfBounds","soundTimeout","playChargeSound","spinTimeout","finishChargeing","invisible","invisibleFrameCount","drawSwingSword","drawSpinCharging","drawSpinCharged","drawSpin","drawLinkWalking","drawLinkStanding","drawLife","spriteX","RIGHT"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import Enemy from \"./enemy\";\n\nconst BLUE_DOWN = [\n  [1, 156, 22, 35],\n  [1, 197, 22, 33],\n  [1, 235, 22, 38],\n  [1, 277, 22, 34]\n];\nconst BLUE_UP = [\n  [81, 161, 22, 26],\n  [81, 197, 22, 33],\n  [81, 240, 22, 27],\n  [81, 281, 22, 26]\n];\nconst BLUE_LEFT = [\n  [37, 161, 29, 26],\n  [36, 200, 32, 27],\n  [37, 240, 29, 27]\n];\nconst BLUE_RIGHT = [\n  [279, 161, 29, 26],\n  [277, 200, 32, 27],\n  [279, 240, 29, 27]\n];\n\nclass BlueKnight extends Enemy {\n  constructor(options) {\n    super(options);\n    this.blueSprite = new Image();\n    this.blueSprite.src = \"./assets/sprites/enemies.png\";\n    this.blueSprite2 = new Image();\n    this.blueSprite2.src = \"./assets/sprites/enemies2.png\";\n\n    this.frameLen = 4;\n    this.box = [44, 56];\n    this.life = 4;\n    this.delta = 0.75;\n    this.dropChance = 0.3;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life === 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life === 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        this.frameLen = BLUE_DOWN.length;\n        ctx.drawImage(this.blueSprite,\n          BLUE_DOWN[this.frameIndex][0],\n          BLUE_DOWN[this.frameIndex][1],\n          BLUE_DOWN[this.frameIndex][2],\n          BLUE_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          BLUE_DOWN[this.frameIndex][2] * this.scale,\n          BLUE_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        this.frameLen = BLUE_UP.length;\n        ctx.drawImage(this.blueSprite,\n          BLUE_UP[this.frameIndex][0],\n          BLUE_UP[this.frameIndex][1],\n          BLUE_UP[this.frameIndex][2],\n          BLUE_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1] - BLUE_UP[this.frameIndex][3] * this.scale + 74,\n          BLUE_UP[this.frameIndex][2] * this.scale,\n          BLUE_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        this.frameLen = BLUE_LEFT.length;\n        ctx.drawImage(this.blueSprite,\n          BLUE_LEFT[this.frameIndex][0],\n          BLUE_LEFT[this.frameIndex][1],\n          BLUE_LEFT[this.frameIndex][2],\n          BLUE_LEFT[this.frameIndex][3],\n          this.pos[0] - BLUE_LEFT[this.frameIndex][2] * this.scale + 66,\n          this.pos[1],\n          BLUE_LEFT[this.frameIndex][2] * this.scale,\n          BLUE_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        this.frameLen = BLUE_RIGHT.length;\n        ctx.drawImage(this.blueSprite2,\n          BLUE_RIGHT[this.frameIndex][0],\n          BLUE_RIGHT[this.frameIndex][1],\n          BLUE_RIGHT[this.frameIndex][2],\n          BLUE_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          BLUE_RIGHT[this.frameIndex][2] * this.scale,\n          BLUE_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default BlueKnight;","import Entity from \"../entity\";\n\nconst DEATH = [\n  [83, 8, 16, 15],\n  [110, 9, 14, 14],\n  [132, 4, 22, 22],\n  [157, 5, 24, 22]\n];\n\nclass Enemy extends Entity {\n  constructor(options) {\n    super(options);\n    this.link = options.link;\n    this.enemySprite = new Image();\n    this.enemySprite.src = \"./assets/sprites/enemies.png\";\n    this.enemySprite2 = new Image();\n    this.enemySprite2.src = \"./assets/sprites/enemies2.png\";\n    this.deathSprite = new Image();\n    this.deathSprite.src = \"./assets/sprites/death-effects.png\";\n    this.hitSound = new Audio('./assets/sounds/LTTP_Enemy_Hit.wav');\n    this.deathSound = new Audio('./assets/sounds/LTTP_Enemy_Kill.wav');\n\n    this.scale = 2;\n    this.frameIndex = 0;\n    this.tickCount = 0;\n    this.ticksPerFrame = 6;\n    this.walkDir = 'down';\n    this.life = 3;\n    this.delta = 1;\n    this.angle1 = true;\n    this.angle2 = true;\n    this.dropChance = 0.2;\n\n    this.move = this.move.bind(this);\n    this.toggleHit = this.toggleHit.bind(this);\n    this.drawDeath = this.drawDeath.bind(this);\n  }\n\n  vectorTowardsLink(link) {\n    const dx = (link.x() - this.x());\n    const dy = (link.y() - this.y());\n    const len = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n    return [dx / len || 0, dy / len || 0];\n  }\n\n  findMoveAngle() {\n    const angleToLink = this.angleToPos(this.link.pos);\n    let angleToLink1 = angleToLink;\n    let angleToLink2 = angleToLink;\n    let dist = this.distanceToObject(this.link);\n\n    if (dist > 150) {\n      dist = 150;\n    }\n\n    let timeOut;\n    while (true) {\n      if (this.link.walking) {\n        if (timeOut) clearTimeout(timeOut);\n        this.angle1 = true;\n        this.angle2 = true;\n      }\n      \n      if (this.angle1 && !this.checkObstacles(angleToLink1, dist)) {\n      // if (!this.checkObstacles(angleToLink1, dist)) {\n        this.angle2 = false;\n        timeOut = setTimeout(() => this.angle2 = true, 5000);\n        return angleToLink1;\n      }\n      if (this.angle2 && !this.checkObstacles(angleToLink2, dist)) {\n      // if (!this.checkObstacles(angleToLink2, dist)) {\n        this.angle1 = false;\n        timeOut = setTimeout(() => this.angle1 = true, 5000);\n        return angleToLink2;\n      }\n      if (angleToLink1 > Math.PI + angleToLink) {\n        return angleToLink;\n      }\n\n      angleToLink1 += 0.1;\n      angleToLink2 -= 0.1;\n    }\n  }\n\n  checkObstacles(angle, dist) {\n    const obstacles = this.game.obstacles;\n    for (let i = 0; i < obstacles.length; i++) {\n      const obj = obstacles[i];\n      if (this.objectBetweenSelfAndLink(obj, angle, dist)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  objectBetweenSelfAndLink(obj, angle, dist) {\n    const borders = [\n      [obj.x(), obj.y(), obj.x() + obj.width(), obj.y()],\n      [obj.x(), obj.y(), obj.x(), obj.y() + obj.height()],\n      [obj.x() + obj.width(), obj.y() + obj.height(), obj.x() + obj.width(), obj.y()],\n      [obj.x() + obj.width(), obj.y() + obj.height(), obj.x(), obj.y() + obj.height()]\n    ];\n\n    const corners = [\n      [this.x(), this.y()],\n      [this.x(), this.y() + this.height()],\n      [this.x() + this.width(), this.y()],\n      [this.x() + this.width(), this.y() + this.height()]\n    ];\n    \n    for (let i = 0; i < borders.length; i++) {\n      for (let j = 0; j < corners.length; j++) {\n        const corner = corners[j];\n        \n        const pos = borders[i];\n  \n        const newPos = this.findNewPoint(corner[0], corner[1], angle, dist);\n        if (this.intersects(corner[0], corner[1], newPos.x, newPos.y, ...pos)) {\n          return true;\n        }\n      }\n    }\n  }\n\n  intersects(a, b, c, d, p, q, r, s) {\n    let det, gamma, lambda;\n    det = (c - a) * (s - q) - (r - p) * (d - b);\n\n    if (det === 0) {\n      return false;\n    } else {\n      lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;\n      gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;\n\n      return (0 < lambda && lambda < 1) && (0 < gamma && gamma < 1);\n    }\n  }\n\n  findNewPoint(x, y, angle, distance) {\n    let result = {};\n    result.x = Math.round(Math.cos(angle) * distance + x);\n    result.y = Math.round(Math.sin(angle) * distance + y);\n    \n    return result;\n  }\n  \n  move(timeDelta) {\n    this.toggleMoveThrough();\n    let vel;\n    if (this.life === 0) {\n      vel = [0, 0];\n    } else if (!this.hit) {\n      const angle = this.findMoveAngle();\n      this.vect = [Math.cos(angle), Math.sin(angle)];\n\n      vel = [this.vect[0] * this.delta, this.vect[1] * this.delta];\n      this.setWalkDir();\n  \n    } else {\n      const delta = 4;\n      vel = [this.hitVect[0] * delta, this.hitVect[1] * delta];\n    }\n\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = vel[0] * velocityScale,\n      offsetY = vel[1] * velocityScale;\n\n    const newPos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n\n    if (this.game.enemyIsOutOfBounds(newPos, this)) {\n      const newPosX = [this.pos[0] + offsetX, this.pos[1]];\n      const newPosY = [this.pos[0], this.pos[1] + offsetY];\n\n      if (!this.game.enemyIsOutOfBounds(newPosX, this)) {\n        this.pos = newPosX;\n      }\n      if (!this.game.enemyIsOutOfBounds(newPosY, this)) {\n        this.pos = newPosY;\n      }\n    } else {\n      this.pos = newPos;\n    }\n  }\n\n  toggleMoveThrough() {\n    if (!this.hit && this.moveThrough && !this.game.enemyWillCollideWithEnemy(this.pos, this)) {\n      this.moveThrough = false;\n    }\n  }\n\n  setWalkDir() {\n    const linkVect = this.vectorTowardsLink(this.link);\n\n    if (linkVect[0] > 0 && linkVect[1] > 0) {\n      if (linkVect[0] > linkVect[1]) {\n        if (this.walkDir !== 'right') this.frameIndex = 0;\n        this.walkDir = 'right';\n      } else {\n        if (this.walkDir !== 'down') this.frameIndex = 0;\n        this.walkDir = 'down';\n      }\n    } else if (linkVect[0] > 0 && linkVect[1] < 0) {\n      if (linkVect[0] > Math.abs(linkVect[1])) {\n        if (this.walkDir !== 'right') this.frameIndex = 0;\n        this.walkDir = 'right';\n      } else {\n        if (this.walkDir !== 'up') this.frameIndex = 0;\n        this.walkDir = 'up';\n      }\n    } else if (linkVect[0] < 0 && linkVect[1] > 0) {\n      if (Math.abs(linkVect[0]) > linkVect[1]) {\n        if (this.walkDir !== 'left') this.frameIndex = 0;\n        this.walkDir = 'left';\n      } else {\n        if (this.walkDir !== 'down') this.frameIndex = 0;\n        this.walkDir = 'down';\n      }\n    } else if (linkVect[0] < 0 && linkVect[1] < 0) {\n      if (Math.abs(linkVect[0]) > Math.abs(linkVect[1])) {\n        if (this.walkDir !== 'left') this.frameIndex = 0;\n        this.walkDir = 'left';\n      } else {\n        if (this.walkDir !== 'up') this.frameIndex = 0;\n        this.walkDir = 'up';\n      }\n    }\n  }\n\n  hitByLink() {\n    if (!this.hit) {\n      this.hitSound.play();\n      this.hitVect = [this.vect[0] * -1, this.vect[1] * -1];\n      this.hit = true;\n      this.moveThrough = true;\n      setTimeout(this.toggleHit, 300);\n    }\n  }\n\n  toggleHit() {\n    this.hit = !this.hit;\n    this.life -= 1;\n    if (this.life === 0) {\n      this.ticksPerFrame = 2;\n      this.frameIndex = 0;\n    }\n  }\n\n  drawDeath(ctx) {\n    this.deathSound.play();\n    ctx.drawImage(this.deathSprite,\n      DEATH[this.frameIndex][0],\n      DEATH[this.frameIndex][1],\n      DEATH[this.frameIndex][2],\n      DEATH[this.frameIndex][3],\n      this.pos[0],\n      this.pos[1],\n      DEATH[this.frameIndex][2] * this.scale,\n      DEATH[this.frameIndex][3] * this.scale\n    );\n  }\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nexport default Enemy;","import Enemy from \"./enemy\";\n\nconst LYNEL_DOWN = [\n  [241, 321, 22, 26],\n  [241, 361, 22, 26],\n  [241, 401, 22, 26]\n];\nconst LYNEL_UP = [\n  [321, 318, 22, 31],\n  [321, 358, 22, 31]\n];\nconst LYNEL_LEFT = [\n  [280, 320, 24, 27],\n  [280, 361, 24, 26],\n  [281, 400, 23, 27]\n];\nconst LYNEL_RIGHT = [\n  [41, 320, 24, 27],\n  [41, 361, 24, 26],\n  [41, 400, 23, 27]\n];\n\nclass Lynel extends Enemy {\n  constructor(options) {\n    super(options);\n    this.lynelSprite = new Image();\n    this.lynelSprite.src = \"./assets/sprites/enemies.png\";\n    this.lynelSprite2 = new Image();\n    this.lynelSprite2.src = \"./assets/sprites/enemies2.png\";\n\n    this.frameLen = 3;\n    this.box = [44, 52];\n    this.life = 4;\n    this.delta = 1.5;\n    this.dropChance = 1;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life === 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life === 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        this.frameLen = LYNEL_DOWN.length;\n        ctx.drawImage(this.lynelSprite,\n          LYNEL_DOWN[this.frameIndex][0],\n          LYNEL_DOWN[this.frameIndex][1],\n          LYNEL_DOWN[this.frameIndex][2],\n          LYNEL_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          LYNEL_DOWN[this.frameIndex][2] * this.scale,\n          LYNEL_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        this.frameLen = LYNEL_UP.length;\n        ctx.drawImage(this.lynelSprite,\n          LYNEL_UP[this.frameIndex][0],\n          LYNEL_UP[this.frameIndex][1],\n          LYNEL_UP[this.frameIndex][2],\n          LYNEL_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1] - LYNEL_UP[this.frameIndex][3] * this.scale + 48,\n          LYNEL_UP[this.frameIndex][2] * this.scale,\n          LYNEL_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        this.frameLen = LYNEL_LEFT.length;\n        ctx.drawImage(this.lynelSprite,\n          LYNEL_LEFT[this.frameIndex][0],\n          LYNEL_LEFT[this.frameIndex][1],\n          LYNEL_LEFT[this.frameIndex][2],\n          LYNEL_LEFT[this.frameIndex][3],\n          this.pos[0] - LYNEL_LEFT[this.frameIndex][2] * this.scale + 28,\n          this.pos[1],\n          LYNEL_LEFT[this.frameIndex][2] * this.scale,\n          LYNEL_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        this.frameLen = LYNEL_RIGHT.length;\n        ctx.drawImage(this.lynelSprite2,\n          LYNEL_RIGHT[this.frameIndex][0],\n          LYNEL_RIGHT[this.frameIndex][1],\n          LYNEL_RIGHT[this.frameIndex][2],\n          LYNEL_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          LYNEL_RIGHT[this.frameIndex][2] * this.scale,\n          LYNEL_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default Lynel;","import Enemy from \"./enemy\";\n\nconst MOBLIN_DOWN = [\n  [124, 0, 16, 28],\n  [124, 38, 16, 32],\n  [123, 81, 16, 28],\n  [124, 121, 16, 26]\n];\nconst MOBLIN_UP = [\n  [203, 1, 18, 25],\n  [203, 41, 18, 25],\n  [203, 80, 18, 28],\n  [204, 121, 16, 25]\n];\nconst MOBLIN_LEFT = [\n  [225, 15, 19, 25],\n  [222, 56, 24, 24],\n  [226, 95, 17, 25],\n  [227, 136, 14, 24]\n];\nconst MOBLIN_RIGHT = [\n  [162, 1, 19, 25],\n  [160, 42, 24, 24],\n  [163, 81, 17, 25],\n  [165, 122, 14, 24]\n];\n\nclass Moblin extends Enemy {\n  constructor(options) {\n    super(options);\n    this.moblinSprite = new Image();\n    this.moblinSprite.src = \"./assets/sprites/enemies.png\";\n\n    this.frameLen = 4;\n    this.box = [28, 48];\n    this.delta = 1;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life === 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life === 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        ctx.drawImage(this.moblinSprite,\n          MOBLIN_DOWN[this.frameIndex][0],\n          MOBLIN_DOWN[this.frameIndex][1],\n          MOBLIN_DOWN[this.frameIndex][2],\n          MOBLIN_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MOBLIN_DOWN[this.frameIndex][2] * this.scale,\n          MOBLIN_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        ctx.drawImage(this.moblinSprite,\n          MOBLIN_UP[this.frameIndex][0],\n          MOBLIN_UP[this.frameIndex][1],\n          MOBLIN_UP[this.frameIndex][2],\n          MOBLIN_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1] - MOBLIN_UP[this.frameIndex][3] * this.scale + 48,\n          MOBLIN_UP[this.frameIndex][2] * this.scale,\n          MOBLIN_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        ctx.drawImage(this.moblinSprite,\n          MOBLIN_LEFT[this.frameIndex][0],\n          MOBLIN_LEFT[this.frameIndex][1],\n          MOBLIN_LEFT[this.frameIndex][2],\n          MOBLIN_LEFT[this.frameIndex][3],\n          this.pos[0] - MOBLIN_LEFT[this.frameIndex][2] * this.scale + 28,\n          this.pos[1],\n          MOBLIN_LEFT[this.frameIndex][2] * this.scale,\n          MOBLIN_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        ctx.drawImage(this.moblinSprite,\n          MOBLIN_RIGHT[this.frameIndex][0],\n          MOBLIN_RIGHT[this.frameIndex][1],\n          MOBLIN_RIGHT[this.frameIndex][2],\n          MOBLIN_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MOBLIN_RIGHT[this.frameIndex][2] * this.scale,\n          MOBLIN_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default Moblin;","import Enemy from \"./enemy\";\n\nconst MUMMY_DOWN = [\n  [124, 681, 16, 26],\n  [124, 721, 16, 25]\n];\nconst MUMMY_UP = [\n  [204, 681, 16, 26],\n  [204, 721, 16, 25]\n];\nconst MUMMY_LEFT = [\n  [164, 681, 15, 25],\n  [165, 721, 14, 26]\n];\nconst MUMMY_RIGHT = [\n  [166, 681, 15, 25],\n  [166, 721, 14, 26]\n];\n\nclass Mummy extends Enemy {\n  constructor(options) {\n    super(options);\n\n    this.frameLen = 2;\n    this.box = [30, 50];\n    this.life = 2;\n    this.delta = 0.6;\n    this.dropChance = 0.1;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life === 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life === 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        this.frameLen = MUMMY_DOWN.length;\n        ctx.drawImage(this.enemySprite,\n          MUMMY_DOWN[this.frameIndex][0],\n          MUMMY_DOWN[this.frameIndex][1],\n          MUMMY_DOWN[this.frameIndex][2],\n          MUMMY_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MUMMY_DOWN[this.frameIndex][2] * this.scale,\n          MUMMY_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        this.frameLen = MUMMY_UP.length;\n        ctx.drawImage(this.enemySprite,\n          MUMMY_UP[this.frameIndex][0],\n          MUMMY_UP[this.frameIndex][1],\n          MUMMY_UP[this.frameIndex][2],\n          MUMMY_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MUMMY_UP[this.frameIndex][2] * this.scale,\n          MUMMY_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        this.frameLen = MUMMY_LEFT.length;\n        ctx.drawImage(this.enemySprite,\n          MUMMY_LEFT[this.frameIndex][0],\n          MUMMY_LEFT[this.frameIndex][1],\n          MUMMY_LEFT[this.frameIndex][2],\n          MUMMY_LEFT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MUMMY_LEFT[this.frameIndex][2] * this.scale,\n          MUMMY_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        this.frameLen = MUMMY_RIGHT.length;\n        ctx.drawImage(this.enemySprite2,\n          MUMMY_RIGHT[this.frameIndex][0],\n          MUMMY_RIGHT[this.frameIndex][1],\n          MUMMY_RIGHT[this.frameIndex][2],\n          MUMMY_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MUMMY_RIGHT[this.frameIndex][2] * this.scale,\n          MUMMY_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default Mummy;","import Enemy from \"./enemy\";\n\nconst SNAKE_DOWN = [\n  [5, 766, 13, 16],\n  [5, 806, 13, 16]\n];\nconst SNAKE_UP = [\n  [86, 766, 12, 16],\n  [86, 806, 12, 16]\n];\nconst SNAKE_LEFT = [\n  [44, 766, 16, 16],\n  [44, 806, 16, 16]\n];\nconst SNAKE_RIGHT = [\n  [285, 766, 16, 16],\n  [285, 806, 16, 16]\n];\n\nclass Snake extends Enemy {\n  constructor(options) {\n    super(options);\n\n    this.frameLen = 2;\n    this.box = [24, 32];\n    this.life = 1;\n    this.delta = 3;\n    this.dropChance = 0.2;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life === 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life === 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        this.frameLen = SNAKE_DOWN.length;\n        ctx.drawImage(this.enemySprite,\n          SNAKE_DOWN[this.frameIndex][0],\n          SNAKE_DOWN[this.frameIndex][1],\n          SNAKE_DOWN[this.frameIndex][2],\n          SNAKE_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          SNAKE_DOWN[this.frameIndex][2] * this.scale,\n          SNAKE_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        this.frameLen = SNAKE_UP.length;\n        ctx.drawImage(this.enemySprite,\n          SNAKE_UP[this.frameIndex][0],\n          SNAKE_UP[this.frameIndex][1],\n          SNAKE_UP[this.frameIndex][2],\n          SNAKE_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          SNAKE_UP[this.frameIndex][2] * this.scale,\n          SNAKE_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        this.frameLen = SNAKE_LEFT.length;\n        ctx.drawImage(this.enemySprite,\n          SNAKE_LEFT[this.frameIndex][0],\n          SNAKE_LEFT[this.frameIndex][1],\n          SNAKE_LEFT[this.frameIndex][2],\n          SNAKE_LEFT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          SNAKE_LEFT[this.frameIndex][2] * this.scale,\n          SNAKE_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        this.frameLen = SNAKE_RIGHT.length;\n        ctx.drawImage(this.enemySprite2,\n          SNAKE_RIGHT[this.frameIndex][0],\n          SNAKE_RIGHT[this.frameIndex][1],\n          SNAKE_RIGHT[this.frameIndex][2],\n          SNAKE_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          SNAKE_RIGHT[this.frameIndex][2] * this.scale,\n          SNAKE_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default Snake;","class Entity {\n  constructor(options) {\n    this.pos = options.pos;\n    this.box = options.box;\n    this.game = options.game;\n  }\n\n  x() {\n    return this.pos[0];\n  }\n\n  y() {\n    return this.pos[1];\n  }\n  \n  width() {\n    return this.box[0];\n  }\n\n  height() {\n    return this.box[1];\n  }\n\n  isCollidedWith(otherObject) {\n    return (this.x() < otherObject.x() + otherObject.width() &&\n      this.x() + this.width() > otherObject.x() &&\n      this.y() < otherObject.y() + otherObject.height() &&\n      this.y() + this.height() > otherObject.y());\n  }\n\n  willCollideWith(pos, box) {\n    return (this.x() < pos[0] + box[0] &&\n      this.x() + this.width() > pos[0] &&\n      this.y() < pos[1] + box[1] &&\n      this.y() + this.height() > pos[1]);\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n\n  angleToPos(pos) {\n    const dx = this.x() - pos[0];\n    const dy = this.y() - pos[1];\n\n    if (dx > 0) {\n      return  Math.atan(dy / dx) + Math.PI;\n    } else {\n      return Math.atan(dy / dx);\n    }\n  }\n\n  distanceToObject(obj) {\n    return Math.sqrt(Math.pow(this.x() - obj.x(), 2) + Math.pow(this.y() - obj.y(), 2));\n  }\n\n  angleRangeToObject(obj) {\n    const lowerLeft = this.angleToPos([obj.x(), obj.y() + obj.height()]);\n    const lowerRight = this.angleToPos([obj.x() + obj.width(), obj.y() + obj.height()]);\n    const upperLeft = this.angleToPos([obj.x(), obj.y()]);\n    const upperRight = this.angleToPos([obj.x() + obj.width(), obj.y()]);\n    const max = Math.max(lowerLeft, lowerRight, upperLeft, upperRight);\n    const min = Math.min(lowerLeft, lowerRight, upperLeft, upperRight);\n\n    return [min, max];\n  }\n}\n\nexport default Entity;","import Link from \"./link\";\nimport Obstacle from \"./obstacle\";\nimport Moblin from \"./enemies/moblin\";\nimport Lynel from \"./enemies/lynel\";\nimport BlueKnight from \"./enemies/blue_knight\";\nimport Heart from \"./heart\";\nimport Snake from \"./enemies/snake\";\nimport Mummy from \"./enemies/mummy\";\n\nconst SPAWN_POS = [\n  [340, 650],\n  [750, 650],\n  [285, -50],\n  [720, -50]\n];\n\nclass Game {\n  constructor(options) {\n    this.pauseSound = new Audio('./assets/sounds/LTTP_Menu_Cursor.wav');\n    this.heartSound = new Audio('./assets/sounds/LTTP_RefillHealth.wav');\n    this.overworldMusic = new Audio('./assets/sounds/overworld_theme.mp3');\n    this.kakarikoMusic = new Audio('./assets/sounds/kakariko_village.mp3');\n    this.selectMusic = new Audio('./assets/sounds/select_screen.mp3');\n    this.muteButton = document.getElementById('mute');\n    this.soundButton = document.getElementById('sound');\n    this.killCount = document.getElementById('kill-count');\n\n    this.link = new Link({ game: this });\n    this.obstacles = [];\n    this.enemies = [];\n    this.items = [];\n    this.song = this.kakarikoMusic;\n    this.muted = options.muted;\n    this.spawnEnemies = false;\n    this.count = 0;\n\n    this.parseKeyDown = this.parseKeyDown.bind(this);\n    this.togglePause = this.togglePause.bind(this);\n    this.muteGame = this.muteGame.bind(this);\n    this.unmuteGame = this.unmuteGame.bind(this);\n    this.stopMusic = this.stopMusic.bind(this);\n    this.music = this.music.bind(this);\n    this.updateKillCount = this.updateKillCount.bind(this);\n    // this.fadeVolIn = this.fadeVolIn.bind(this);\n\n    this.muteButton.onclick = this.muteGame;\n    this.soundButton.onclick = this.unmuteGame;\n\n    this.addObstacles();\n    this.music(this.kakarikoMusic);\n    this.updateKillCount();\n  }\n\n  parseKeyDown(e) {\n    e.preventDefault();\n    if (e.keyCode === 13) {\n      if (!this.spawnEnemies) {\n        this.addEnemies();\n        const enterEl = document.getElementById('enter');\n        enterEl.style.opacity = 0;\n        const controlsEl = document.getElementById('controls');\n        controlsEl.style.opacity = 0;\n        this.spawnEnemies = true;\n      }\n    } else if (e.keyCode === 80) {\n      if (!this.gameover) this.togglePause();\n    }\n  }\n\n// fadeVolIn(newPercent) {\n//   if (newPercent < 1) {\n//     this.song.volume = newPercent;\n//     setTimeout(() => this.fadeVolIn(newPercent + 0.1), 100);\n//   }\n// }\n\n  muteGame() {\n    if (!this.muted) {\n      this.soundButton.classList.toggle(\"selected\");\n      this.muteButton.classList.toggle(\"selected\");\n      this.song.pause();\n      this.song.currentTime = 0;\n      this.muted = true;\n    }\n  }\n\n  unmuteGame() {\n    if (this.muted) {\n      this.soundButton.classList.toggle(\"selected\");\n      this.muteButton.classList.toggle(\"selected\");\n      this.muted = false;\n      this.song.play();\n    }\n  }\n\n  music(song) {\n    this.song.pause();\n    this.song.currentTime = 0;\n    this.song = song;\n    // this.song.volume = 0;\n    // this.fadeVolIn(0);\n    this.song.onended = () => this.song.play();\n    if (!this.muted) {\n      this.song.play();\n    }\n  }\n\n  stopMusic() {\n    this.song.pause();\n  }\n\n  togglePause() {\n    const pauseEl = document.getElementById('pause');\n    this.paused = !this.paused;\n    if (this.paused) {\n      this.pauseSound.play();\n      pauseEl.style.visibility = 'visible';\n    } else {\n      pauseEl.style.visibility = 'hidden';\n    }\n  }\n\n\n  allObjects() {\n    return [this.link].concat(this.enemies).concat(this.items);\n  }\n\n  allMovingObjects() {\n    return [this.link].concat(this.enemies);\n  }\n\n  add(object) {\n    if (object instanceof Obstacle) {\n      this.obstacles.push(object);\n    } else {\n      this.enemies.push(object);\n    }\n  }\n\n  addEnemyToRandomSpawn() {\n    let pos = SPAWN_POS[Math.floor(Math.random() * 4)];\n    while (this.enemyWillCollideWithEnemy(pos, {box: [50, 50]})) {\n      pos = SPAWN_POS[Math.floor(Math.random() * 4)];\n    }\n    const enemyIdx = Math.random();\n\n    if (enemyIdx > 0.8) {\n      this.add(new Lynel({ game: this, link: this.link, pos }));\n    } else if (enemyIdx > 0.7) {\n      this.add(new Snake({ game: this, link: this.link, pos }));\n    } else if (enemyIdx > 0.4) {\n      this.add(new Moblin({ game: this, link: this.link, pos }));\n    } else if (enemyIdx > 0.2) {\n      this.add(new Mummy({ game: this, link: this.link, pos }));\n    } else {\n      this.add(new BlueKnight({ game: this, link: this.link, pos }));\n    }\n  }\n\n  addEnemies() {\n    this.music(this.overworldMusic);\n    SPAWN_POS.forEach(pos => {\n      const enemyIdx = Math.random();\n      if (enemyIdx > 0.5) {\n        this.add(new Moblin({ game: this, link: this.link, pos }));\n      } else {\n        this.add(new BlueKnight({ game: this, link: this.link, pos }));\n      }\n    });\n  }\n\n  addHeart(pos) {\n    this.items.push(new Heart({ pos, game: this }));\n  }\n\n  remove(object) {\n    const pos = object.pos;\n    if (Math.random() < object.dropChance) this.addHeart(pos);\n\n    this.enemies.splice(this.enemies.indexOf(object), 1);\n    this.count += 1;\n    this.updateKillCount();\n  }\n\n  updateKillCount() {\n    this.killCount.innerHTML = `${this.count}`;\n  }\n\n  removeItem(object) {\n    object.removeTimeouts();\n    this.items.splice(this.items.indexOf(object), 1);\n  }\n\n  isOutOfBounds(pos, box) {\n    return ((pos[0] < 0) || (pos[1] < 0) ||\n      (pos[0] > Game.DIM_X - box[0]) || (pos[1] > Game.DIM_Y - box[1])) || this.willCollideWithObstacle(pos, box);\n  }\n\n  enemyIsOutOfBounds(pos, enemy) {\n    return this.willCollideWithObstacle(pos, enemy.box) || (this.enemyWillCollideWithEnemy(pos, enemy) && !enemy.moveThrough);\n  }\n\n  enemyWillCollideWithEnemy(pos, enemy) {\n    for (let i = 0; i < this.enemies.length; i++) {\n      const otherEnemy = this.enemies[i];\n      if (enemy === otherEnemy || otherEnemy.moveThrough) continue;\n      if (otherEnemy.willCollideWith(pos, enemy.box)) return true;\n    }\n    return false;\n  }\n\n  willCollideWithObstacle(pos, box) {\n    for (let i = 0; i < this.obstacles.length; i++) {\n      const obstacle = this.obstacles[i];\n      if (obstacle.willCollideWith(pos, box)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  linkCollidedWithItem() {\n    for (let i = 0; i < this.items.length; i++) {\n      const heart = this.items[i];\n      if (heart.isCollidedWith(this.link)) {\n        this.heartSound.play();\n        if (this.link.life < 3) this.link.life += 1;\n        this.removeItem(heart);\n      }\n    }\n  }\n\n  checkEnemyCollidedWithLink() {\n    for (let i = 0; i < this.enemies.length; i++) {\n      const enemy = this.enemies[i];\n      if (enemy.isCollidedWith(this.link)) {\n        this.link.hitByEnemy(enemy.vect);\n      }\n    }\n    return false;\n  }\n\n  checkEnemyWillCollideWithSword() {\n    for (let i = 0; i < this.enemies.length; i++) {\n      const enemy = this.enemies[i];\n      if (this.link.hurtBox && enemy.isCollidedWith(this.link.hurtBox())) {\n        enemy.hitByLink();\n      }\n    }\n    return false;\n  }\n\n  moveObjects(delta) {\n    this.allMovingObjects().forEach((object) => {\n      object.move(delta);\n    });\n  }\n\n  step(delta) {\n    if (!this.paused) {\n      if (this.spawnEnemies && this.enemies.length < (4 + Math.floor(this.count / 10))) this.addEnemyToRandomSpawn();\n      this.moveObjects(delta);\n      this.checkEnemyWillCollideWithSword();\n      this.checkEnemyCollidedWithLink();\n      this.linkCollidedWithItem();\n    }\n  }\n\n  draw(ctx) {\n    if (!this.paused) {\n      ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n      ctx.fillStyle = \"#489847\";\n      ctx.fillRect(158, 90, 162, 202);\n      this.allObjects().forEach((object) => {\n        object.draw(ctx);\n      });\n\n      if (this.link.life === 0) {\n        this.gameover = true;\n        this.music(this.selectMusic);\n      }\n    }\n\n    // this.obstacles.forEach((object) => {\n    //   object.draw(ctx);\n    // });\n  }\n\n  addObstacles() {\n    this.add(new Obstacle({ pos: [-400, -400], box: [525, 593] }));\n    this.add(new Obstacle({ pos: [125, -400], box: [55, 477] }));\n    this.add(new Obstacle({ pos: [125, 77], box: [15, 40] }));\n    this.add(new Obstacle({ pos: [180, -400], box: [14, 438] }));\n    this.add(new Obstacle({ pos: [436, 214], box: [76, 70] }));\n    this.add(new Obstacle({ pos: [-400, 537], box: [534, 463] }));\n    this.add(new Obstacle({ pos: [-400, 487], box: [496, 50] }));\n    this.add(new Obstacle({ pos: [96, 497], box: [18, 40] }));\n    this.add(new Obstacle({ pos: [114, 511], box: [10, 26] }));\n    this.add(new Obstacle({ pos: [182, 391], box: [116, 150] }));\n    this.add(new Obstacle({ pos: [174, 410], box: [8, 92] }));\n    this.add(new Obstacle({ pos: [165, 420], box: [9, 34] }));\n    this.add(new Obstacle({ pos: [297, 420], box: [17, 38] }));\n    this.add(new Obstacle({ pos: [214, 375], box: [52, 16] }));\n    this.add(new Obstacle({ pos: [415, -400], box: [115, 472] }));\n    this.add(new Obstacle({ pos: [434, 575], box: [153, 425] }));\n    this.add(new Obstacle({ pos: [447, 560], box: [13, 15] }));\n    this.add(new Obstacle({ pos: [566, 560], box: [13, 15] }));\n    this.add(new Obstacle({ pos: [460, 542], box: [106, 33] }));\n    this.add(new Obstacle({ pos: [490, 528], box: [45, 14] }));\n    this.add(new Obstacle({ pos: [-400, 193], box: [480, 28] }));\n    this.add(new Obstacle({ pos: [-400, 220], box: [458, 75] }));\n    this.add(new Obstacle({ pos: [-400, 295], box: [417, 190] }));\n    this.add(new Obstacle({ pos: [17, 415], box: [58, 71] }));\n    this.add(new Obstacle({ pos: [17, 385], box: [38, 30] }));\n    this.add(new Obstacle({ pos: [688, 391], box: [116, 150] }));\n    this.add(new Obstacle({ pos: [680, 410], box: [8, 92] }));\n    this.add(new Obstacle({ pos: [671, 420], box: [9, 34] }));\n    this.add(new Obstacle({ pos: [803, 420], box: [17, 38] }));\n    this.add(new Obstacle({ pos: [720, 375], box: [52, 16] }));\n    this.add(new Obstacle({ pos: [688, 391], box: [116, 150] }));\n    this.add(new Obstacle({ pos: [680, 410], box: [8, 92] }));\n    this.add(new Obstacle({ pos: [671, 420], box: [9, 34] }));\n    this.add(new Obstacle({ pos: [803, 420], box: [17, 38] }));\n    this.add(new Obstacle({ pos: [720, 375], box: [52, 16] }));\n    this.add(new Obstacle({ pos: [648, 118], box: [116, 150] }));\n    this.add(new Obstacle({ pos: [640, 136], box: [8, 92] }));\n    this.add(new Obstacle({ pos: [631, 144], box: [9, 34] }));\n    this.add(new Obstacle({ pos: [763, 144], box: [17, 38] }));\n    this.add(new Obstacle({ pos: [680, 102], box: [52, 16] }));\n    this.add(new Obstacle({ pos: [890, -400], box: [160, 470] }));\n    this.add(new Obstacle({ pos: [950, 70], box: [100, 115] }));\n    this.add(new Obstacle({ pos: [927, 70], box: [23, 60] }));\n    this.add(new Obstacle({ pos: [1005, 185], box: [45, 119] }));\n    this.add(new Obstacle({ pos: [989, 185], box: [16, 51] }));\n    this.add(new Obstacle({ pos: [929, 520], box: [121, 480] }));\n    this.add(new Obstacle({ pos: [989, 404], box: [61, 116] }));\n    this.add(new Obstacle({ pos: [953, 499], box: [36, 21] }));\n    this.add(new Obstacle({ pos: [1012, 384], box: [38, 20] }));\n    this.add(new Obstacle({ pos: [1042, 302], box: [8, 82] }));\n  }\n}\n\nGame.DIM_X = 1050;\nGame.DIM_Y = 600;\nGame.FPS = 32;\n\nexport default Game;","import Game from \"./game\";\n\nclass GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n    this.link = this.game.link;\n    this.animate = this.animate.bind(this);\n    this.restartSound = new Audio('./assets/sounds/LTTP_Secret.wav');\n  }\n\n  bindKeyHandlers() {\n    document.addEventListener('keydown', this.link.parseKeyDown);\n    document.addEventListener('keydown', this.game.parseKeyDown);\n    document.addEventListener('keyup', this.link.parseKeyUp);\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n\n    requestAnimationFrame(this.animate);\n  }\n\n  animate(time) {\n    if (!this.game.gameover) {\n      const timeDelta = time - this.lastTime;\n\n      this.game.step(timeDelta);\n      this.game.draw(this.ctx);\n      this.lastTime = time;\n\n      requestAnimationFrame(this.animate);\n    } else {\n      const btn = document.createElement(\"BUTTON\");\n      const text = document.createTextNode(\"restart\");\n      const gameover = document.getElementById('gameover');\n      btn.appendChild(text);\n      btn.onclick = () => this.newGame(btn, gameover);\n      gameover.appendChild(btn);\n      gameover.style.visibility = 'visible';\n      gameover.style.opacity = 1;\n    }\n  }\n\n  newGame(btn, parent) {\n    this.restartSound.play();\n    parent.removeChild(btn);\n    parent.style.visibility = 'hidden';\n    parent.style.opacity = 0;\n    const enterEl = document.getElementById('enter');\n    enterEl.style.opacity = 1;\n    const controlsEl = document.getElementById('controls');\n    controlsEl.style.opacity = 1;\n    this.game.stopMusic();\n    this.game = new Game({ muted: this.game.muted });\n    this.link = this.game.link;\n    this.start();\n  }\n}\n\nexport default GameView;","import Entity from \"./entity\";\n\nclass Heart extends Entity {\n  constructor(options) {\n    super(options);\n    this.heartSprite = new Image();\n    this.heartSprite.src = \"./assets/sprites/items-objects.gif\";\n    this.box = [14, 13];\n    this.draw = this.draw.bind(this);\n    this.startFlash = this.startFlash.bind(this);\n    this.removeTimeouts = this.removeTimeouts.bind(this);\n    this.tickCount = 0;\n    this.ticksPerFrame = 4;\n    this.flashCount = false;\n    this.flashTimeout = setTimeout(this.startFlash, 10000);\n  }\n\n  startFlash() {\n    this.flash = true;\n    this.removeTimout = setTimeout(() => this.game.removeItem(this), 5000);\n  }\n\n  removeTimeouts() {\n    clearTimeout(this.flashTimeout);\n    clearTimeout(this.removeTimout);\n  }\n\n  draw(ctx) {\n    if (this.flash && this.flashCount) {\n      this.update();\n    } else {\n      ctx.drawImage(this.heartSprite, 153, 30, 14, 13, this.pos[0], this.pos[1], 21, 19.5);\n      this.update();\n    }\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      this.flashCount = !this.flashCount;\n    }\n  }\n}\n\nexport default Heart;","import GameView from \"./game_view\";\nimport Game from \"./game\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game({ muted: true });\n  new GameView(game, ctx).start();\n});","import Sword from \"./sword\";\nimport Entity from \"./entity\";\n\nconst WALK_DOWN = [3, 33, 63, 93, 123, 153, 183, 213];\nconst WALK_UP = [2, 32, 62, 92, 122, 152, 182, 212];\nconst WALK_SIDE = [241, 272, 301, 331, 361, 392];\nconst SWORD_UP = [\n  [0, 181, 22, 22],\n  [30, 177, 22, 30],\n  [61, 174, 20, 35],\n  [89, 177, 24, 30],\n  [115, 180, 32, 23]\n];\nconst SWORD_DOWN = [\n  [1, 90, 20, 23],\n  [30, 90, 22, 24],\n  [61, 86, 20, 31],\n  [91, 86, 20, 31],\n  [115, 87, 28, 29],\n  [145, 88, 32, 27]\n];\nconst SWORD_LEFT = [\n  [242, 90, 18, 23],\n  [268, 90, 26, 24],\n  [295, 91, 31, 21],\n  [327, 91, 28, 21],\n  [359, 86, 23, 31],\n  [393, 91, 16, 22]\n];\nconst SWORD_RIGHT = [\n  [242, 180, 18, 23],\n  [268, 180, 26, 24],\n  [295, 181, 31, 21],\n  [327, 181, 28, 21],\n  [359, 176, 23, 31],\n  [393, 181, 16, 22]\n];\nconst SPIN_DOWN = [\n  [504, 139, 20, 26, 0, 4],\n  [532, 126, 15, 36, 0, 14],\n  [576, 138, 20, 26, 0, 4],\n  [604, 142, 28, 22, 0, 0],\n  [638, 142, 28, 22, 0, 0],\n  [673, 141, 17, 31, 0, 0],\n  [695, 142, 28, 22, 12, 0],\n  [729, 142, 28, 22, 12, 0],\n  [764, 136, 16, 28, 0, 6],\n  [791, 138, 20, 26, 0, 4],\n  [818, 142, 16, 22, 0, 0]\n];\nconst SPIN_UP = [\n  [487, 60, 20, 27, 3, 0],\n  [516, 61, 15, 35, -1, 0],\n  [595, 60, 20, 27, 3, 0],\n  [620, 60, 28, 22, 11, 0],\n  [657, 54, 16, 28, 0, 6],\n  [681, 60, 28, 22, 0, 0],\n  [720, 60, 16, 31, 0, 0],\n  [746, 61, 17, 31, 0, 0],\n  [767, 61, 20, 27, 3, 0],\n  [797, 61, 17, 22, 0, 0]\n];\nconst SPIN_LEFT = [\n  [500, 19, 23, 23, 0, 0],\n  [536, 19, 31, 23, 0, 0],\n  [664, 19, 23, 23, 0, 0],\n  [697, 19, 16, 31, 0, 0],\n  [718, 19, 28, 23, 12, 0],\n  [750, 19, 28, 23, 12, 0],\n  [789, 13, 17, 29, 0, 6],\n  [815, 19, 28, 23, 0, 0],\n  [845, 19, 28, 23, 0, 0],\n  [879, 19, 23, 23, 0, 0]\n];\nconst SPIN_RIGHT = [\n  [379, 19, 23, 23, 7, 0],\n  [335, 19, 31, 23, 15, 0],\n  [215, 19, 23, 23, 6, 0],\n  [189, 19, 16, 31, 0, 0],\n  [156, 19, 28, 23, 0, 0],\n  [124, 19, 28, 23, 0, 0],\n  [96, 13, 17, 29, 0, 6],\n  [59, 19, 28, 23, 12, 0],\n  [29, 19, 28, 23, 12, 0],\n  [0, 19, 23, 23, 7, 0]\n];\n\nclass Link extends Entity {\n  constructor(options) {\n    super(options);\n    this.linkSprite = new Image();\n    this.linkSprite.src = \"./assets/sprites/link.png\";\n    this.linkSprite2 = new Image();\n    this.linkSprite2.src = \"./assets/sprites/link.gif\";\n    this.linkSprite3 = new Image();\n    this.linkSprite3.src = \"./assets/sprites/link2.gif\";\n    this.swordSound = new Audio('./assets/sounds/LTTP_Sword.wav');\n    this.hurtSound = new Audio('./assets/sounds/LTTP_Link_Hurt.wav');\n    this.deathSound = new Audio('./assets/sounds/LTTP_Link_Dying.wav');\n    this.swordChargeSound = new Audio('./assets/sounds/LTTP_Sword_Charge.wav');\n    this.swordSpinSound = new Audio('./assets/sounds/LTTP_Sword_Spin.wav');\n\n    this.scale = 2;\n    this.frameIndex = 0;\n    this.tickCount = 0;\n    this.ticksPerFrame = 6;\n    this.pos = [473, 310];\n    this.walkDir = 'down';\n    this.frameLen = 7;\n    this.box = [32, 48];\n    this.canSwing = true;\n    this.life = 3;\n\n    this.draw = this.draw.bind(this);\n    this.move = this.move.bind(this);\n    this.parseKeyDown = this.parseKeyDown.bind(this);\n    this.toggleSword = this.toggleSword.bind(this);\n    this.parseKeyUp = this.parseKeyUp.bind(this);\n    this.update = this.update.bind(this);\n    this.toggleHit = this.toggleHit.bind(this);\n    this.toggleInvinsible = this.toggleInvinsible.bind(this);\n    this.createHurtBox = this.createHurtBox.bind(this);\n    this.toggleSpin = this.toggleSpin.bind(this);\n  }\n\n  parseKeyUp(e) {\n    e.preventDefault();\n    if (e.keyCode === 32) {\n      if (this.spinCharged) {\n        this.frameIndex = 2;\n        this.ticksPerFrame = 2;\n        this.spinning = true;\n        this.swordSpinSound.play();\n        this.cancelSpin = true;\n        this.spinCharged = false;\n        this.hurtBox = () => new Sword({ pos: [this.x() - 25, this.y() - 25], box: [85, 85] });\n      } else {\n        window.clearTimeout(this.spinTimout);\n        window.clearTimeout(this.soundTimout);\n        this.cancelSpin = true;\n        this.chargingSpin = false;\n        this.swordChargeSound.pause();\n        this.swordChargeSound.currentTime = 0;\n        this.canSwing = true;\n      }\n    }\n\n    if (e.keyCode === 87 || e.keyCode === 38) this.up = false;\n    if (e.keyCode === 65 || e.keyCode === 37) this.left = false;\n    if (e.keyCode === 83 || e.keyCode === 40) this.down = false;\n    if (e.keyCode === 68 || e.keyCode === 39) this.right = false;\n  }\n\n  parseKeyDown(e) {\n    e.preventDefault();\n    if (e.keyCode === 32) this.swingSword();\n    if (e.keyCode === 87 || e.keyCode === 38) this.up = true;\n    if (e.keyCode === 65 || e.keyCode === 37) this.left = true;\n    if (e.keyCode === 83 || e.keyCode === 40) this.down = true;\n    if (e.keyCode === 68 || e.keyCode === 39) this.right = true;\n  }\n\n  move(timeDelta) {\n    let vel;\n    let dx = 0;\n    let dy = 0;\n    if (this.hit) {\n      const delta = 4;\n      vel = [this.vect[0] * delta, this.vect[1] * delta];\n    } else {\n      if (!this.sword) {\n        if (this.up) dy += -1;\n        if (this.left) dx += -1;\n        if (this.down) dy += 1;\n        if (this.right) dx += 1;\n      }\n\n      const len = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n      const vect = [dx / len || 0, dy / len || 0];\n\n      let delta;\n      if (this.chargingSpin || this.spinCharged) {\n        delta = 0.5;\n      } else {\n        delta = 2;\n      }\n\n      vel = [vect[0] * delta, vect[1] * delta];\n\n      if (vel[0] === 0 && vel[1] === 0) {\n        this.walking = false;\n      } else {\n        if (!this.walking) this.frameIndex = 0;\n        this.walking = true;\n      }\n    }\n\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = vel[0] * velocityScale,\n      offsetY = vel[1] * velocityScale;\n\n    const newPos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n\n    if (this.game.isOutOfBounds(newPos, this.box)) {\n      const newPosX = [this.pos[0] + offsetX, this.pos[1]];\n      const newPosY = [this.pos[0], this.pos[1] + offsetY];\n\n      if (!this.game.isOutOfBounds(newPosX, this.box)) {\n        this.pos = newPosX;\n      }\n      if (!this.game.isOutOfBounds(newPosY, this.box)) {\n        this.pos = newPosY;\n      }\n    } else {\n      this.pos = newPos;\n    }\n  }\n\n\n  swingSword() {\n    if (!this.sword && this.canSwing) {\n      this.swordSound.play();\n      this.sword = true;\n      this.canSwing = false;\n      this.frameIndex = 0;\n      this.ticksPerFrame = 2;\n      if (this.walkDir === 'down') {\n        this.createHurtBox({ pos: [this.x() - 10, this.y() + 25], box: [70, 40] });\n      } else if (this.walkDir === 'up') {\n        this.createHurtBox({ pos: [this.x() - 25, this.y() - 25], box: [70, 45] });\n      } else if (this.walkDir === 'left') {\n        this.createHurtBox({ pos: [this.x() - 30, this.y()], box: [40, 60] });\n      } else if (this.walkDir === 'right') {\n        this.createHurtBox({ pos: [this.x() + 25, this.y()], box: [40, 60] });\n      }\n    }\n  }\n\n  createHurtBox(options) {\n    this.hurtBox = () => new Sword(options);\n  }\n\n  toggleSword() {\n    if (this.canSwing) {\n      this.frameLen = WALK_SIDE.length;\n    } else {\n      this.chargingSpin = true;\n      this.cancelSpin = false;\n      this.soundTimeout = setTimeout(this.playChargeSound.bind(this), 250);\n      this.spinTimeout = setTimeout(this.finishChargeing.bind(this), 500);\n    }\n    this.ticksPerFrame = 6;\n    this.sword = !this.sword;\n    this.hurtBox = null;\n  }\n\n  toggleSpin() {\n    this.spinning = false;\n    this.ticksPerFrame = 6;\n    this.hurtBox = null;\n    this.canSwing = true;\n  }\n\n  playChargeSound() {\n    if (!this.cancelSpin) {\n      this.swordChargeSound.play();\n    }\n  }\n\n  finishChargeing() {\n    if (!this.cancelSpin) {\n      this.spinCharged = true;\n      this.chargingSpin = false;\n    }\n  }\n\n  hitByEnemy(vect) {\n    if (!this.invisible && !this.spinning) {\n      this.hurtSound.play();\n      this.vect = vect;\n      this.hit = true;\n      this.invisible = true;\n      this.invisibleFrameCount = 1;\n      this.life -= 1;\n      setTimeout(this.toggleHit, 300);\n      setTimeout(this.toggleInvinsible, 2000);\n    }\n  }\n\n  toggleHit() {\n    this.hit = !this.hit;\n  }\n\n  toggleInvinsible() {\n    this.invisible = !this.invisible;\n  }\n\n\n  draw(ctx) {\n    if (this.life === 0) {\n      this.deathSound.play();\n      ctx.drawImage(this.linkSprite, 89, 214, 24, 15, this.pos[0], this.pos[1], 48, 30);\n    } else {\n      if (!(this.invisible && this.invisibleFrameCount % 2 === 0)) {\n        if (this.sword) {\n          this.drawSwingSword(ctx);\n        } else if (this.chargingSpin) {\n          this.drawSpinCharging(ctx);\n        } else if (this.spinCharged) {\n          this.drawSpinCharged(ctx);\n        } else if (this.spinning) {\n          this.drawSpin(ctx);\n        } else {\n          this.setWalkDir();\n          if (this.walking) {\n            this.drawLinkWalking(ctx);\n          } else {\n            this.drawLinkStanding(ctx);\n          }\n        }\n      }\n    }\n\n    // if (this.hurtBox) this.hurtBox().draw(ctx);\n    this.drawLife(ctx);\n    this.update();\n  }\n\n  drawLinkWalking(ctx) {\n    if (this.walkDir === 'down') {\n      ctx.drawImage(this.linkSprite, WALK_DOWN[this.frameIndex], 30, 16, 24, this.pos[0], this.pos[1], 32, 48);\n    } else if (this.walkDir === 'up') {\n      ctx.drawImage(this.linkSprite, WALK_UP[this.frameIndex], 120, 17, 24, this.pos[0], this.pos[1], 34, 48);\n    } else if (this.walkDir === 'right') {\n      ctx.drawImage(this.linkSprite, WALK_SIDE[this.frameIndex], 120, 19, 24, this.pos[0], this.pos[1], 38, 48);\n    } else if (this.walkDir === 'left') {\n      ctx.drawImage(this.linkSprite, WALK_SIDE[this.frameIndex], 30, 19, 24, this.pos[0], this.pos[1], 38, 48);\n    }\n  }\n\n  drawLinkStanding(ctx) {\n    if (this.walkDir === 'down') {\n      ctx.drawImage(this.linkSprite, 33, 1, 16, 22, this.pos[0], this.pos[1], 32, 44);\n    } else if (this.walkDir === 'up') {\n      ctx.drawImage(this.linkSprite, 63, 1, 16, 22, this.pos[0], this.pos[1], 32, 44);\n    } else if (this.walkDir === 'right') {\n      ctx.drawImage(this.linkSprite, 331, 120, 19, 23, this.pos[0], this.pos[1], 38, 46);\n    } else if (this.walkDir === 'left') {\n      ctx.drawImage(this.linkSprite, 151, 0, 19, 23, this.pos[0], this.pos[1], 38, 46);\n    }\n  }\n\n  drawSwingSword(ctx) {\n    if (this.walkDir === 'down') {\n      this.frameLen = SWORD_DOWN.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_DOWN[this.frameIndex][0],\n        SWORD_DOWN[this.frameIndex][1],\n        SWORD_DOWN[this.frameIndex][2],\n        SWORD_DOWN[this.frameIndex][3],\n        this.pos[0],\n        this.pos[1],\n        SWORD_DOWN[this.frameIndex][2] * this.scale,\n        SWORD_DOWN[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'up') {\n      this.frameLen = SWORD_UP.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_UP[this.frameIndex][0],\n        SWORD_UP[this.frameIndex][1],\n        SWORD_UP[this.frameIndex][2],\n        SWORD_UP[this.frameIndex][3],\n        this.pos[0] - SWORD_UP[this.frameIndex][2] * this.scale + 40,\n        this.pos[1] - SWORD_UP[this.frameIndex][3] * this.scale + 42,\n        SWORD_UP[this.frameIndex][2] * this.scale,\n        SWORD_UP[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'left') {\n      this.frameLen = SWORD_LEFT.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_LEFT[this.frameIndex][0],\n        SWORD_LEFT[this.frameIndex][1],\n        SWORD_LEFT[this.frameIndex][2],\n        SWORD_LEFT[this.frameIndex][3],\n        this.pos[0] - SWORD_LEFT[this.frameIndex][2] * this.scale + 32,\n        this.pos[1],\n        SWORD_LEFT[this.frameIndex][2] * this.scale,\n        SWORD_LEFT[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'right') {\n      this.frameLen = SWORD_LEFT.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_RIGHT[this.frameIndex][0],\n        SWORD_RIGHT[this.frameIndex][1],\n        SWORD_RIGHT[this.frameIndex][2],\n        SWORD_RIGHT[this.frameIndex][3],\n        this.pos[0],\n        this.pos[1],\n        SWORD_RIGHT[this.frameIndex][2] * this.scale,\n        SWORD_RIGHT[this.frameIndex][3] * this.scale\n      );\n    }\n  }\n\n  drawSpinCharging(ctx) {\n    if (this.walkDir === 'down') {\n      this.frameLen = SPIN_DOWN.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_DOWN[0][0],\n        SPIN_DOWN[0][1],\n        SPIN_DOWN[0][2],\n        SPIN_DOWN[0][3],\n        this.pos[0] - SPIN_DOWN[0][4] * this.scale,\n        this.pos[1] - SPIN_DOWN[0][5] * this.scale,\n        SPIN_DOWN[0][2] * this.scale,\n        SPIN_DOWN[0][3] * this.scale\n      );\n    } else if (this.walkDir === 'up') {\n      this.frameLen = SPIN_UP.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_UP[0][0],\n        SPIN_UP[0][1],\n        SPIN_UP[0][2],\n        SPIN_UP[0][3],\n        this.pos[0] - SPIN_UP[0][4] * this.scale,\n        this.pos[1] - SPIN_UP[0][5] * this.scale,\n        SPIN_UP[0][2] * this.scale,\n        SPIN_UP[0][3] * this.scale\n      );\n    } else if (this.walkDir === 'left') {\n      this.frameLen = SPIN_LEFT.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_LEFT[0][0],\n        SPIN_LEFT[0][1],\n        SPIN_LEFT[0][2],\n        SPIN_LEFT[0][3],\n        this.pos[0] - SPIN_LEFT[0][4] * this.scale,\n        this.pos[1] - SPIN_LEFT[0][5] * this.scale,\n        SPIN_LEFT[0][2] * this.scale,\n        SPIN_LEFT[0][3] * this.scale\n      );\n    } else if (this.walkDir === 'right') {\n      this.frameLen = SPIN_RIGHT.length;\n      ctx.drawImage(this.linkSprite3,\n        SPIN_RIGHT[0][0],\n        SPIN_RIGHT[0][1],\n        SPIN_RIGHT[0][2],\n        SPIN_RIGHT[0][3],\n        this.pos[0] - SPIN_RIGHT[0][4] * this.scale,\n        this.pos[1] - SPIN_RIGHT[0][5] * this.scale,\n        SPIN_RIGHT[0][2] * this.scale,\n        SPIN_RIGHT[0][3] * this.scale\n      );\n    }\n  }\n\n  drawSpinCharged(ctx) {\n    if (this.walkDir === 'down') {\n      this.frameLen = SPIN_DOWN.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_DOWN[1][0],\n        SPIN_DOWN[1][1],\n        SPIN_DOWN[1][2],\n        SPIN_DOWN[1][3],\n        this.pos[0] - SPIN_DOWN[1][4] * this.scale,\n        this.pos[1] - SPIN_DOWN[1][5] * this.scale,\n        SPIN_DOWN[1][2] * this.scale,\n        SPIN_DOWN[1][3] * this.scale\n      );\n    } else if (this.walkDir === 'up') {\n      this.frameLen = SPIN_UP.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_UP[1][0],\n        SPIN_UP[1][1],\n        SPIN_UP[1][2],\n        SPIN_UP[1][3],\n        this.pos[0] - SPIN_UP[1][4] * this.scale,\n        this.pos[1] - SPIN_UP[1][5] * this.scale,\n        SPIN_UP[1][2] * this.scale,\n        SPIN_UP[1][3] * this.scale\n      );\n    } else if (this.walkDir === 'left') {\n      this.frameLen = SPIN_LEFT.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_LEFT[1][0],\n        SPIN_LEFT[1][1],\n        SPIN_LEFT[1][2],\n        SPIN_LEFT[1][3],\n        this.pos[0] - SPIN_LEFT[1][4] * this.scale,\n        this.pos[1] - SPIN_LEFT[1][5] * this.scale,\n        SPIN_LEFT[1][2] * this.scale,\n        SPIN_LEFT[1][3] * this.scale\n      );\n    } else if (this.walkDir === 'right') {\n      this.frameLen = SPIN_RIGHT.length;\n      ctx.drawImage(this.linkSprite3,\n        SPIN_RIGHT[1][0],\n        SPIN_RIGHT[1][1],\n        SPIN_RIGHT[1][2],\n        SPIN_RIGHT[1][3],\n        this.pos[0] - SPIN_RIGHT[1][4] * this.scale,\n        this.pos[1] - SPIN_RIGHT[1][5] * this.scale,\n        SPIN_RIGHT[1][2] * this.scale,\n        SPIN_RIGHT[1][3] * this.scale\n      );\n    }\n  }\n\n  drawSpin(ctx) {\n    if (this.walkDir === 'down') {\n      this.frameLen = SPIN_DOWN.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_DOWN[this.frameIndex][0],\n        SPIN_DOWN[this.frameIndex][1],\n        SPIN_DOWN[this.frameIndex][2],\n        SPIN_DOWN[this.frameIndex][3],\n        this.pos[0] - SPIN_DOWN[this.frameIndex][4] * this.scale,\n        this.pos[1] - SPIN_DOWN[this.frameIndex][5] * this.scale,\n        SPIN_DOWN[this.frameIndex][2] * this.scale,\n        SPIN_DOWN[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'up') {\n      this.frameLen = SPIN_UP.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_UP[this.frameIndex][0],\n        SPIN_UP[this.frameIndex][1],\n        SPIN_UP[this.frameIndex][2],\n        SPIN_UP[this.frameIndex][3],\n        this.pos[0] - SPIN_UP[this.frameIndex][4] * this.scale,\n        this.pos[1] - SPIN_UP[this.frameIndex][5] * this.scale,\n        SPIN_UP[this.frameIndex][2] * this.scale,\n        SPIN_UP[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'left') {\n      this.frameLen = SPIN_LEFT.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_LEFT[this.frameIndex][0],\n        SPIN_LEFT[this.frameIndex][1],\n        SPIN_LEFT[this.frameIndex][2],\n        SPIN_LEFT[this.frameIndex][3],\n        this.pos[0] - SPIN_LEFT[this.frameIndex][4] * this.scale,\n        this.pos[1] - SPIN_LEFT[this.frameIndex][5] * this.scale,\n        SPIN_LEFT[this.frameIndex][2] * this.scale,\n        SPIN_LEFT[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'right') {\n      this.frameLen = SPIN_RIGHT.length;\n      ctx.drawImage(this.linkSprite3,\n        SPIN_RIGHT[this.frameIndex][0],\n        SPIN_RIGHT[this.frameIndex][1],\n        SPIN_RIGHT[this.frameIndex][2],\n        SPIN_RIGHT[this.frameIndex][3],\n        this.pos[0] - SPIN_RIGHT[this.frameIndex][4] * this.scale,\n        this.pos[1] - SPIN_RIGHT[this.frameIndex][5] * this.scale,\n        SPIN_RIGHT[this.frameIndex][2] * this.scale,\n        SPIN_RIGHT[this.frameIndex][3] * this.scale\n      );\n    }\n  }\n\n  drawLife(ctx) {\n    let spriteX;\n    for (let i = 1; i <= 3; i++) {\n      if (i > this.life) {\n        spriteX = 456;\n      } else {\n        spriteX = 440;\n      }\n\n      ctx.drawImage(this.linkSprite2, spriteX, 147, 7, 7, 900 + i * 35, 10, 28, 28);\n    }\n  }\n\n  setWalkDir() {\n    if (this.down && !this.left && !this.right && !this.RIGHT) {\n      if (this.walkDir !== 'down') this.frameIndex = 0;\n      this.walkDir = 'down';\n      this.frameLen = WALK_DOWN.length;\n    } else if (!this.down && this.left && !this.right && !this.up) {\n      if (this.walkDir !== 'left') this.frameIndex = 0;\n      this.walkDir = 'left';\n      this.frameLen = WALK_SIDE.length;\n    } else if (!this.down && !this.left && this.right && !this.up) {\n      if (this.walkDir !== 'right') this.frameIndex = 0;\n      this.walkDir = 'right';\n      this.frameLen = WALK_SIDE.length;\n    } else if (!this.down && !this.left && !this.right && this.up) {\n      if (this.walkDir !== 'up') this.frameIndex = 0;\n      this.walkDir = 'up';\n      this.frameLen = WALK_UP.length;\n    }\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.invisible) this.invisibleFrameCount += 1;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        this.frameIndex = 0;\n        if (this.sword) this.toggleSword();\n        if (this.spinning) this.toggleSpin();\n      }\n    }\n  }\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nexport default Link;","import Entity from \"./entity\";\n\nclass Obstacle extends Entity {\n  // constructor(options) {\n  //   super(options);\n  //   this.draw = this.draw.bind(this);\n  // }\n\n  // draw(ctx) {\n  //   ctx.beginPath();\n  //   ctx.lineWidth = \"1\";\n  //   ctx.strokeStyle = \"black\";\n  //   ctx.rect(this.pos[0], this.pos[1], this.width(), this.height());\n  //   ctx.stroke();\n  // }\n}\n\nexport default Obstacle;","import Entity from \"./entity\";\n\nclass Sword extends Entity {\n  // constructor(options) {\n  //   super(options);\n  //   this.draw = this.draw.bind(this);\n  // }\n\n  // draw(ctx) {\n  //   ctx.beginPath();\n  //   ctx.lineWidth = \"1\";\n  //   ctx.strokeStyle = \"black\";\n  //   ctx.rect(this.x(), this.y(), this.width(), this.height());\n  //   ctx.stroke();\n  // }\n}\n\nexport default Sword;"],"sourceRoot":""}