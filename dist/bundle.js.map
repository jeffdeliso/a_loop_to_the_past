{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/enemies/blue_knight.js","webpack:///./src/enemies/enemy.js","webpack:///./src/enemies/lynel.js","webpack:///./src/enemies/moblin.js","webpack:///./src/enemies/mummy.js","webpack:///./src/enemies/snake.js","webpack:///./src/entity.js","webpack:///./src/game.js","webpack:///./src/game_view.js","webpack:///./src/heart.js","webpack:///./src/index.js","webpack:///./src/link.js","webpack:///./src/obstacle.js","webpack:///./src/sword.js"],"names":["BLUE_DOWN","BLUE_UP","BLUE_LEFT","BLUE_RIGHT","BlueKnight","options","frameLen","box","life","delta","dropChance","draw","bind","update","tickCount","ticksPerFrame","frameIndex","remove","ctx","drawDeath","walkDir","length","drawImage","enemySprite","pos","scale","enemySprite2","Enemy","DEATH","link","hitSound","Audio","deathSound","angle1","angle2","move","toggleHit","dx","x","dy","y","len","Math","sqrt","pow","angleToLink","angleToPos","angleToLink1","angleToLink2","dist","distanceToObject","timeOut","walking","clearTimeout","checkObstacles","setTimeout","PI","angle","obstacles","game","i","obj","objectBetweenSelfAndLink","borders","width","height","corners","j","corner","newPos","findNewPoint","intersects","a","b","c","d","p","q","r","s","det","gamma","lambda","distance","result","round","cos","sin","timeDelta","toggleMoveThrough","vel","hit","findMoveAngle","vect","setWalkDir","hitVect","velocityScale","NORMAL_FRAME_TIME_DELTA","offsetX","offsetY","enemyIsOutOfBounds","newPosX","newPosY","moveThrough","enemyWillCollideWithEnemy","linkVect","vectorTowardsLink","abs","play","spin","spinning","deathSprite","Entity","LYNEL_DOWN","LYNEL_UP","LYNEL_LEFT","LYNEL_RIGHT","Lynel","MOBLIN_DOWN","MOBLIN_UP","MOBLIN_LEFT","MOBLIN_RIGHT","Moblin","MUMMY_DOWN","MUMMY_UP","MUMMY_LEFT","MUMMY_RIGHT","Mummy","SNAKE_DOWN","SNAKE_UP","SNAKE_LEFT","SNAKE_RIGHT","Snake","Image","src","itemSprite","otherObject","atan","lowerLeft","lowerRight","upperLeft","upperRight","max","min","SPAWN_POS","Game","pauseSound","heartSound","overworldMusic","kakarikoMusic","selectMusic","muteButton","document","getElementById","soundButton","killCount","Link","enemies","items","song","muted","spawnEnemies","count","parseKeyDown","togglePause","muteGame","unmuteGame","stopMusic","music","updateKillCount","onclick","addObstacles","e","keyCode","addEnemies","enterEl","style","opacity","controlsEl","gameover","classList","toggle","pause","currentTime","onended","pauseEl","paused","visibility","concat","object","Obstacle","push","floor","random","enemyIdx","enemy","add","forEach","Heart","addHeart","splice","indexOf","innerHTML","removeTimeouts","DIM_X","DIM_Y","willCollideWithObstacle","otherEnemy","willCollideWith","obstacle","heart","isCollidedWith","removeItem","hitByEnemy","hurtBox","hitByLink","allMovingObjects","addEnemyToRandomSpawn","moveObjects","checkEnemyWillCollideWithSword","checkEnemyCollidedWithLink","linkCollidedWithItem","clearRect","fillStyle","fillRect","allObjects","FPS","GameView","animate","restartSound","addEventListener","parseKeyUp","bindKeyHandlers","lastTime","requestAnimationFrame","time","step","btn","createElement","text","createTextNode","appendChild","newGame","removeChild","start","startFlash","flashCount","flashTimeout","flash","removeTimout","canvasEl","getElementsByTagName","getContext","WALK_DOWN","WALK_UP","WALK_SIDE","SWORD_UP","SWORD_DOWN","SWORD_LEFT","SWORD_RIGHT","SPIN_DOWN","SPIN_UP","SPIN_LEFT","SPIN_RIGHT","linkSprite","linkSprite2","linkSprite3","swordSound","hurtSound","swordChargeSound","swordSpinSound","canSwing","toggleSword","toggleInvinsible","createHurtBox","toggleSpin","spinCharged","cancelSpin","Sword","spinTimout","soundTimout","chargingSpin","up","left","down","right","swingSword","sword","isOutOfBounds","soundTimeout","playChargeSound","spinTimeout","finishChargeing","invisible","invisibleFrameCount","drawSwingSword","drawSpinCharging","drawSpinCharged","drawSpin","drawLinkWalking","drawLinkStanding","drawLife","spriteX","RIGHT"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import Enemy from \"./enemy\";\n\nconst BLUE_DOWN = [\n  [1, 156, 22, 35],\n  [1, 197, 22, 33],\n  [1, 235, 22, 38],\n  [1, 277, 22, 34]\n];\nconst BLUE_UP = [\n  [81, 161, 22, 26],\n  [81, 197, 22, 33],\n  [81, 240, 22, 27],\n  [81, 281, 22, 26]\n];\nconst BLUE_LEFT = [\n  [37, 161, 29, 26],\n  [36, 200, 32, 27],\n  [37, 240, 29, 27]\n];\nconst BLUE_RIGHT = [\n  [279, 161, 29, 26],\n  [277, 200, 32, 27],\n  [279, 240, 29, 27]\n];\n\nclass BlueKnight extends Enemy {\n  constructor(options) {\n    super(options);\n\n    this.frameLen = 4;\n    this.box = [44, 56];\n    this.life = 4;\n    this.delta = 0.75;\n    this.dropChance = 0.3;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life <= 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life <= 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        this.frameLen = BLUE_DOWN.length;\n        ctx.drawImage(this.enemySprite,\n          BLUE_DOWN[this.frameIndex][0],\n          BLUE_DOWN[this.frameIndex][1],\n          BLUE_DOWN[this.frameIndex][2],\n          BLUE_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          BLUE_DOWN[this.frameIndex][2] * this.scale,\n          BLUE_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        this.frameLen = BLUE_UP.length;\n        ctx.drawImage(this.enemySprite,\n          BLUE_UP[this.frameIndex][0],\n          BLUE_UP[this.frameIndex][1],\n          BLUE_UP[this.frameIndex][2],\n          BLUE_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1] - BLUE_UP[this.frameIndex][3] * this.scale + 74,\n          BLUE_UP[this.frameIndex][2] * this.scale,\n          BLUE_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        this.frameLen = BLUE_LEFT.length;\n        ctx.drawImage(this.enemySprite,\n          BLUE_LEFT[this.frameIndex][0],\n          BLUE_LEFT[this.frameIndex][1],\n          BLUE_LEFT[this.frameIndex][2],\n          BLUE_LEFT[this.frameIndex][3],\n          this.pos[0] - BLUE_LEFT[this.frameIndex][2] * this.scale + 66,\n          this.pos[1],\n          BLUE_LEFT[this.frameIndex][2] * this.scale,\n          BLUE_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        this.frameLen = BLUE_RIGHT.length;\n        ctx.drawImage(this.enemySprite2,\n          BLUE_RIGHT[this.frameIndex][0],\n          BLUE_RIGHT[this.frameIndex][1],\n          BLUE_RIGHT[this.frameIndex][2],\n          BLUE_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          BLUE_RIGHT[this.frameIndex][2] * this.scale,\n          BLUE_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default BlueKnight;","import Entity from \"../entity\";\n\nconst DEATH = [\n  [83, 8, 16, 15],\n  [110, 9, 14, 14],\n  [132, 4, 22, 22],\n  [157, 5, 24, 22]\n];\n\nclass Enemy extends Entity {\n  constructor(options) {\n    super(options);\n    this.link = options.link;\n    this.hitSound = new Audio('./assets/sounds/LTTP_Enemy_Hit.wav');\n    this.deathSound = new Audio('./assets/sounds/LTTP_Enemy_Kill.wav');\n\n    this.scale = 2;\n    this.frameIndex = 0;\n    this.tickCount = 0;\n    this.ticksPerFrame = 6;\n    this.walkDir = 'down';\n    this.life = 3;\n    this.delta = 1;\n    this.angle1 = true;\n    this.angle2 = true;\n    this.dropChance = 0.2;\n\n    this.move = this.move.bind(this);\n    this.toggleHit = this.toggleHit.bind(this);\n    this.drawDeath = this.drawDeath.bind(this);\n  }\n\n  vectorTowardsLink(link) {\n    const dx = (link.x() - this.x());\n    const dy = (link.y() - this.y());\n    const len = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n    return [dx / len || 0, dy / len || 0];\n  }\n\n  findMoveAngle() {\n    const angleToLink = this.angleToPos(this.link.pos);\n    let angleToLink1 = angleToLink;\n    let angleToLink2 = angleToLink;\n    let dist = this.distanceToObject(this.link);\n\n    if (dist > 150) {\n      dist = 150;\n    }\n\n    let timeOut;\n    while (true) {\n      if (this.link.walking) {\n        if (timeOut) clearTimeout(timeOut);\n        this.angle1 = true;\n        this.angle2 = true;\n      }\n      \n      if (this.angle1 && !this.checkObstacles(angleToLink1, dist)) {\n      // if (!this.checkObstacles(angleToLink1, dist)) {\n        this.angle2 = false;\n        timeOut = setTimeout(() => this.angle2 = true, 4000);\n        return angleToLink1;\n      }\n      if (this.angle2 && !this.checkObstacles(angleToLink2, dist)) {\n      // if (!this.checkObstacles(angleToLink2, dist)) {\n        this.angle1 = false;\n        timeOut = setTimeout(() => this.angle1 = true, 4000);\n        return angleToLink2;\n      }\n      if (angleToLink1 > Math.PI + angleToLink) {\n        return angleToLink;\n      }\n\n      angleToLink1 += 0.1;\n      angleToLink2 -= 0.1;\n    }\n  }\n\n  checkObstacles(angle, dist) {\n    const obstacles = this.game.obstacles;\n    for (let i = 0; i < obstacles.length; i++) {\n      const obj = obstacles[i];\n      if (this.objectBetweenSelfAndLink(obj, angle, dist)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  objectBetweenSelfAndLink(obj, angle, dist) {\n    const borders = [\n      [obj.x(), obj.y(), obj.x() + obj.width(), obj.y()],\n      [obj.x(), obj.y(), obj.x(), obj.y() + obj.height()],\n      [obj.x() + obj.width(), obj.y() + obj.height(), obj.x() + obj.width(), obj.y()],\n      [obj.x() + obj.width(), obj.y() + obj.height(), obj.x(), obj.y() + obj.height()]\n    ];\n\n    const corners = [\n      [this.x(), this.y()],\n      [this.x(), this.y() + this.height()],\n      [this.x() + this.width(), this.y()],\n      [this.x() + this.width(), this.y() + this.height()]\n    ];\n    \n    for (let i = 0; i < borders.length; i++) {\n      for (let j = 0; j < corners.length; j++) {\n        const corner = corners[j];\n        \n        const pos = borders[i];\n  \n        const newPos = this.findNewPoint(corner[0], corner[1], angle, dist);\n        if (this.intersects(corner[0], corner[1], newPos.x, newPos.y, ...pos)) {\n          return true;\n        }\n      }\n    }\n  }\n\n  intersects(a, b, c, d, p, q, r, s) {\n    let det, gamma, lambda;\n    det = (c - a) * (s - q) - (r - p) * (d - b);\n\n    if (det === 0) {\n      return false;\n    } else {\n      lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;\n      gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;\n\n      return (0 < lambda && lambda < 1) && (0 < gamma && gamma < 1);\n    }\n  }\n\n  findNewPoint(x, y, angle, distance) {\n    let result = {};\n    result.x = Math.round(Math.cos(angle) * distance + x);\n    result.y = Math.round(Math.sin(angle) * distance + y);\n    \n    return result;\n  }\n  \n  move(timeDelta) {\n    this.toggleMoveThrough();\n    let vel;\n    if (this.life <= 0) {\n      vel = [0, 0];\n    } else if (!this.hit) {\n      const angle = this.findMoveAngle();\n      this.vect = [Math.cos(angle), Math.sin(angle)];\n\n      vel = [this.vect[0] * this.delta, this.vect[1] * this.delta];\n      this.setWalkDir();\n  \n    } else {\n      const delta = 4;\n      vel = [this.hitVect[0] * delta, this.hitVect[1] * delta];\n    }\n\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = vel[0] * velocityScale,\n      offsetY = vel[1] * velocityScale;\n\n    const newPos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n\n    if (this.game.enemyIsOutOfBounds(newPos, this)) {\n      const newPosX = [this.pos[0] + offsetX, this.pos[1]];\n      const newPosY = [this.pos[0], this.pos[1] + offsetY];\n\n      if (!this.game.enemyIsOutOfBounds(newPosX, this)) {\n        this.pos = newPosX;\n      }\n      if (!this.game.enemyIsOutOfBounds(newPosY, this)) {\n        this.pos = newPosY;\n      }\n    } else {\n      this.pos = newPos;\n    }\n  }\n\n  toggleMoveThrough() {\n    if (!this.hit && this.moveThrough && !this.game.enemyWillCollideWithEnemy(this.pos, this)) {\n      this.moveThrough = false;\n    }\n  }\n\n  setWalkDir() {\n    const linkVect = this.vectorTowardsLink(this.link);\n\n    if (linkVect[0] > 0 && linkVect[1] > 0) {\n      if (linkVect[0] > linkVect[1]) {\n        if (this.walkDir !== 'right') this.frameIndex = 0;\n        this.walkDir = 'right';\n      } else {\n        if (this.walkDir !== 'down') this.frameIndex = 0;\n        this.walkDir = 'down';\n      }\n    } else if (linkVect[0] > 0 && linkVect[1] < 0) {\n      if (linkVect[0] > Math.abs(linkVect[1])) {\n        if (this.walkDir !== 'right') this.frameIndex = 0;\n        this.walkDir = 'right';\n      } else {\n        if (this.walkDir !== 'up') this.frameIndex = 0;\n        this.walkDir = 'up';\n      }\n    } else if (linkVect[0] < 0 && linkVect[1] > 0) {\n      if (Math.abs(linkVect[0]) > linkVect[1]) {\n        if (this.walkDir !== 'left') this.frameIndex = 0;\n        this.walkDir = 'left';\n      } else {\n        if (this.walkDir !== 'down') this.frameIndex = 0;\n        this.walkDir = 'down';\n      }\n    } else if (linkVect[0] < 0 && linkVect[1] < 0) {\n      if (Math.abs(linkVect[0]) > Math.abs(linkVect[1])) {\n        if (this.walkDir !== 'left') this.frameIndex = 0;\n        this.walkDir = 'left';\n      } else {\n        if (this.walkDir !== 'up') this.frameIndex = 0;\n        this.walkDir = 'up';\n      }\n    }\n  }\n\n  hitByLink() {\n    if (!this.hit) {\n      this.hitSound.play();\n      this.hitVect = [this.vect[0] * -1, this.vect[1] * -1];\n      this.hit = true;\n      this.moveThrough = true;\n      let spin = false;\n      if (this.link.spinning) spin = true;\n      setTimeout(() => this.toggleHit(spin), 300);\n    }\n  }\n\n  toggleHit(spin) {\n    this.hit = !this.hit;\n    if (spin) {\n      this.life -= 2;\n    } else {\n      this.life -= 1;\n    }\n    \n    if (this.life <= 0) {\n      this.ticksPerFrame = 2;\n      this.frameIndex = 0;\n    }\n  }\n\n  drawDeath(ctx) {\n    this.deathSound.play();\n    ctx.drawImage(this.deathSprite,\n      DEATH[this.frameIndex][0],\n      DEATH[this.frameIndex][1],\n      DEATH[this.frameIndex][2],\n      DEATH[this.frameIndex][3],\n      this.pos[0],\n      this.pos[1],\n      DEATH[this.frameIndex][2] * this.scale,\n      DEATH[this.frameIndex][3] * this.scale\n    );\n  }\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nexport default Enemy;","import Enemy from \"./enemy\";\n\nconst LYNEL_DOWN = [\n  [241, 321, 22, 26],\n  [241, 361, 22, 26],\n  [241, 401, 22, 26]\n];\nconst LYNEL_UP = [\n  [321, 318, 22, 31],\n  [321, 358, 22, 31]\n];\nconst LYNEL_LEFT = [\n  [280, 320, 24, 27],\n  [280, 361, 24, 26],\n  [281, 400, 23, 27]\n];\nconst LYNEL_RIGHT = [\n  [41, 320, 24, 27],\n  [41, 361, 24, 26],\n  [41, 400, 23, 27]\n];\n\nclass Lynel extends Enemy {\n  constructor(options) {\n    super(options);\n\n    this.frameLen = 3;\n    this.box = [44, 52];\n    this.life = 4;\n    this.delta = 1.5;\n    this.dropChance = 1;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life <= 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life <= 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        this.frameLen = LYNEL_DOWN.length;\n        ctx.drawImage(this.enemySprite,\n          LYNEL_DOWN[this.frameIndex][0],\n          LYNEL_DOWN[this.frameIndex][1],\n          LYNEL_DOWN[this.frameIndex][2],\n          LYNEL_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          LYNEL_DOWN[this.frameIndex][2] * this.scale,\n          LYNEL_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        this.frameLen = LYNEL_UP.length;\n        ctx.drawImage(this.enemySprite,\n          LYNEL_UP[this.frameIndex][0],\n          LYNEL_UP[this.frameIndex][1],\n          LYNEL_UP[this.frameIndex][2],\n          LYNEL_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1] - LYNEL_UP[this.frameIndex][3] * this.scale + 48,\n          LYNEL_UP[this.frameIndex][2] * this.scale,\n          LYNEL_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        this.frameLen = LYNEL_LEFT.length;\n        ctx.drawImage(this.enemySprite,\n          LYNEL_LEFT[this.frameIndex][0],\n          LYNEL_LEFT[this.frameIndex][1],\n          LYNEL_LEFT[this.frameIndex][2],\n          LYNEL_LEFT[this.frameIndex][3],\n          this.pos[0] - LYNEL_LEFT[this.frameIndex][2] * this.scale + 28,\n          this.pos[1],\n          LYNEL_LEFT[this.frameIndex][2] * this.scale,\n          LYNEL_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        this.frameLen = LYNEL_RIGHT.length;\n        ctx.drawImage(this.enemySprite2,\n          LYNEL_RIGHT[this.frameIndex][0],\n          LYNEL_RIGHT[this.frameIndex][1],\n          LYNEL_RIGHT[this.frameIndex][2],\n          LYNEL_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          LYNEL_RIGHT[this.frameIndex][2] * this.scale,\n          LYNEL_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default Lynel;","import Enemy from \"./enemy\";\n\nconst MOBLIN_DOWN = [\n  [124, 0, 16, 28],\n  [124, 38, 16, 32],\n  [123, 81, 16, 28],\n  [124, 121, 16, 26]\n];\nconst MOBLIN_UP = [\n  [203, 1, 18, 25],\n  [203, 41, 18, 25],\n  [203, 80, 18, 28],\n  [204, 121, 16, 25]\n];\nconst MOBLIN_LEFT = [\n  [225, 15, 19, 25],\n  [222, 56, 24, 24],\n  [226, 95, 17, 25],\n  [227, 136, 14, 24]\n];\nconst MOBLIN_RIGHT = [\n  [162, 1, 19, 25],\n  [160, 42, 24, 24],\n  [163, 81, 17, 25],\n  [165, 122, 14, 24]\n];\n\nclass Moblin extends Enemy {\n  constructor(options) {\n    super(options);\n\n    this.frameLen = 4;\n    this.box = [28, 48];\n    this.delta = 1;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life <= 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life <= 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        ctx.drawImage(this.enemySprite,\n          MOBLIN_DOWN[this.frameIndex][0],\n          MOBLIN_DOWN[this.frameIndex][1],\n          MOBLIN_DOWN[this.frameIndex][2],\n          MOBLIN_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MOBLIN_DOWN[this.frameIndex][2] * this.scale,\n          MOBLIN_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        ctx.drawImage(this.enemySprite,\n          MOBLIN_UP[this.frameIndex][0],\n          MOBLIN_UP[this.frameIndex][1],\n          MOBLIN_UP[this.frameIndex][2],\n          MOBLIN_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1] - MOBLIN_UP[this.frameIndex][3] * this.scale + 48,\n          MOBLIN_UP[this.frameIndex][2] * this.scale,\n          MOBLIN_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        ctx.drawImage(this.enemySprite,\n          MOBLIN_LEFT[this.frameIndex][0],\n          MOBLIN_LEFT[this.frameIndex][1],\n          MOBLIN_LEFT[this.frameIndex][2],\n          MOBLIN_LEFT[this.frameIndex][3],\n          this.pos[0] - MOBLIN_LEFT[this.frameIndex][2] * this.scale + 28,\n          this.pos[1],\n          MOBLIN_LEFT[this.frameIndex][2] * this.scale,\n          MOBLIN_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        ctx.drawImage(this.enemySprite,\n          MOBLIN_RIGHT[this.frameIndex][0],\n          MOBLIN_RIGHT[this.frameIndex][1],\n          MOBLIN_RIGHT[this.frameIndex][2],\n          MOBLIN_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MOBLIN_RIGHT[this.frameIndex][2] * this.scale,\n          MOBLIN_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default Moblin;","import Enemy from \"./enemy\";\n\nconst MUMMY_DOWN = [\n  [124, 681, 16, 26],\n  [124, 721, 16, 25]\n];\nconst MUMMY_UP = [\n  [204, 681, 16, 26],\n  [204, 721, 16, 25]\n];\nconst MUMMY_LEFT = [\n  [164, 681, 15, 25],\n  [165, 721, 14, 26]\n];\nconst MUMMY_RIGHT = [\n  [166, 681, 15, 25],\n  [166, 721, 14, 26]\n];\n\nclass Mummy extends Enemy {\n  constructor(options) {\n    super(options);\n\n    this.frameLen = 2;\n    this.box = [30, 50];\n    this.life = 2;\n    this.delta = 0.6;\n    this.dropChance = 0.1;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life <= 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life <= 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        this.frameLen = MUMMY_DOWN.length;\n        ctx.drawImage(this.enemySprite,\n          MUMMY_DOWN[this.frameIndex][0],\n          MUMMY_DOWN[this.frameIndex][1],\n          MUMMY_DOWN[this.frameIndex][2],\n          MUMMY_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MUMMY_DOWN[this.frameIndex][2] * this.scale,\n          MUMMY_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        this.frameLen = MUMMY_UP.length;\n        ctx.drawImage(this.enemySprite,\n          MUMMY_UP[this.frameIndex][0],\n          MUMMY_UP[this.frameIndex][1],\n          MUMMY_UP[this.frameIndex][2],\n          MUMMY_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MUMMY_UP[this.frameIndex][2] * this.scale,\n          MUMMY_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        this.frameLen = MUMMY_LEFT.length;\n        ctx.drawImage(this.enemySprite,\n          MUMMY_LEFT[this.frameIndex][0],\n          MUMMY_LEFT[this.frameIndex][1],\n          MUMMY_LEFT[this.frameIndex][2],\n          MUMMY_LEFT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MUMMY_LEFT[this.frameIndex][2] * this.scale,\n          MUMMY_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        this.frameLen = MUMMY_RIGHT.length;\n        ctx.drawImage(this.enemySprite2,\n          MUMMY_RIGHT[this.frameIndex][0],\n          MUMMY_RIGHT[this.frameIndex][1],\n          MUMMY_RIGHT[this.frameIndex][2],\n          MUMMY_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MUMMY_RIGHT[this.frameIndex][2] * this.scale,\n          MUMMY_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default Mummy;","import Enemy from \"./enemy\";\n\nconst SNAKE_DOWN = [\n  [5, 766, 13, 16],\n  [5, 806, 13, 16]\n];\nconst SNAKE_UP = [\n  [86, 766, 12, 16],\n  [86, 806, 12, 16]\n];\nconst SNAKE_LEFT = [\n  [44, 766, 16, 16],\n  [44, 806, 16, 16]\n];\nconst SNAKE_RIGHT = [\n  [285, 766, 16, 16],\n  [285, 806, 16, 16]\n];\n\nclass Snake extends Enemy {\n  constructor(options) {\n    super(options);\n\n    this.frameLen = 2;\n    this.box = [24, 32];\n    this.life = 1;\n    this.delta = 3;\n    this.dropChance = 0.2;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life <= 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life <= 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        this.frameLen = SNAKE_DOWN.length;\n        ctx.drawImage(this.enemySprite,\n          SNAKE_DOWN[this.frameIndex][0],\n          SNAKE_DOWN[this.frameIndex][1],\n          SNAKE_DOWN[this.frameIndex][2],\n          SNAKE_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          SNAKE_DOWN[this.frameIndex][2] * this.scale,\n          SNAKE_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        this.frameLen = SNAKE_UP.length;\n        ctx.drawImage(this.enemySprite,\n          SNAKE_UP[this.frameIndex][0],\n          SNAKE_UP[this.frameIndex][1],\n          SNAKE_UP[this.frameIndex][2],\n          SNAKE_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          SNAKE_UP[this.frameIndex][2] * this.scale,\n          SNAKE_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        this.frameLen = SNAKE_LEFT.length;\n        ctx.drawImage(this.enemySprite,\n          SNAKE_LEFT[this.frameIndex][0],\n          SNAKE_LEFT[this.frameIndex][1],\n          SNAKE_LEFT[this.frameIndex][2],\n          SNAKE_LEFT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          SNAKE_LEFT[this.frameIndex][2] * this.scale,\n          SNAKE_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        this.frameLen = SNAKE_RIGHT.length;\n        ctx.drawImage(this.enemySprite2,\n          SNAKE_RIGHT[this.frameIndex][0],\n          SNAKE_RIGHT[this.frameIndex][1],\n          SNAKE_RIGHT[this.frameIndex][2],\n          SNAKE_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          SNAKE_RIGHT[this.frameIndex][2] * this.scale,\n          SNAKE_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default Snake;","class Entity {\n  constructor(options) {\n    this.enemySprite = new Image();\n    this.enemySprite.src = \"./assets/sprites/enemies.png\";\n    this.enemySprite2 = new Image();\n    this.enemySprite2.src = \"./assets/sprites/enemies2.png\";\n    this.deathSprite = new Image();\n    this.deathSprite.src = \"./assets/sprites/death-effects.png\";\n    this.itemSprite = new Image();\n    this.itemSprite.src = \"./assets/sprites/items-objects.gif\";\n    this.pos = options.pos;\n    this.box = options.box;\n    this.game = options.game;\n  }\n\n  x() {\n    return this.pos[0];\n  }\n\n  y() {\n    return this.pos[1];\n  }\n  \n  width() {\n    return this.box[0];\n  }\n\n  height() {\n    return this.box[1];\n  }\n\n  isCollidedWith(otherObject) {\n    return (this.x() < otherObject.x() + otherObject.width() &&\n      this.x() + this.width() > otherObject.x() &&\n      this.y() < otherObject.y() + otherObject.height() &&\n      this.y() + this.height() > otherObject.y());\n  }\n\n  willCollideWith(pos, box) {\n    return (this.x() < pos[0] + box[0] &&\n      this.x() + this.width() > pos[0] &&\n      this.y() < pos[1] + box[1] &&\n      this.y() + this.height() > pos[1]);\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n\n  angleToPos(pos) {\n    const dx = this.x() - pos[0];\n    const dy = this.y() - pos[1];\n\n    if (dx > 0) {\n      return  Math.atan(dy / dx) + Math.PI;\n    } else {\n      return Math.atan(dy / dx);\n    }\n  }\n\n  distanceToObject(obj) {\n    return Math.sqrt(Math.pow(this.x() - obj.x(), 2) + Math.pow(this.y() - obj.y(), 2));\n  }\n\n  angleRangeToObject(obj) {\n    const lowerLeft = this.angleToPos([obj.x(), obj.y() + obj.height()]);\n    const lowerRight = this.angleToPos([obj.x() + obj.width(), obj.y() + obj.height()]);\n    const upperLeft = this.angleToPos([obj.x(), obj.y()]);\n    const upperRight = this.angleToPos([obj.x() + obj.width(), obj.y()]);\n    const max = Math.max(lowerLeft, lowerRight, upperLeft, upperRight);\n    const min = Math.min(lowerLeft, lowerRight, upperLeft, upperRight);\n\n    return [min, max];\n  }\n}\n\nexport default Entity;","import Link from \"./link\";\nimport Obstacle from \"./obstacle\";\nimport Moblin from \"./enemies/moblin\";\nimport Lynel from \"./enemies/lynel\";\nimport BlueKnight from \"./enemies/blue_knight\";\nimport Heart from \"./heart\";\nimport Snake from \"./enemies/snake\";\nimport Mummy from \"./enemies/mummy\";\n\nconst SPAWN_POS = [\n  [340, 650],\n  [750, 650],\n  [285, -50],\n  [720, -50]\n];\n\nclass Game {\n  constructor(options) {\n    this.pauseSound = new Audio('./assets/sounds/LTTP_Menu_Cursor.wav');\n    this.heartSound = new Audio('./assets/sounds/LTTP_RefillHealth.wav');\n    this.overworldMusic = new Audio('./assets/sounds/overworld_theme.mp3');\n    this.kakarikoMusic = new Audio('./assets/sounds/kakariko_village.mp3');\n    this.selectMusic = new Audio('./assets/sounds/select_screen.mp3');\n\n    this.muteButton = document.getElementById('mute');\n    this.soundButton = document.getElementById('sound');\n    this.killCount = document.getElementById('kill-count');\n\n    this.link = new Link({ game: this });\n    this.obstacles = [];\n    this.enemies = [];\n    this.items = [];\n    this.song = this.kakarikoMusic;\n    this.muted = options.muted;\n    this.spawnEnemies = false;\n    this.count = 0;\n\n    this.parseKeyDown = this.parseKeyDown.bind(this);\n    this.togglePause = this.togglePause.bind(this);\n    this.muteGame = this.muteGame.bind(this);\n    this.unmuteGame = this.unmuteGame.bind(this);\n    this.stopMusic = this.stopMusic.bind(this);\n    this.music = this.music.bind(this);\n    this.updateKillCount = this.updateKillCount.bind(this);\n\n    this.muteButton.onclick = this.muteGame;\n    this.soundButton.onclick = this.unmuteGame;\n\n    this.addObstacles();\n    this.music(this.kakarikoMusic);\n    this.updateKillCount();\n  }\n\n  parseKeyDown(e) {\n    // e.preventDefault();\n    if (e.keyCode === 13) {\n      if (!this.spawnEnemies) {\n        this.addEnemies();\n        const enterEl = document.getElementById('enter');\n        enterEl.style.opacity = 0;\n        const controlsEl = document.getElementById('controls');\n        controlsEl.style.opacity = 0;\n        this.spawnEnemies = true;\n      }\n    } else if (e.keyCode === 80) {\n      if (!this.gameover) this.togglePause();\n    }\n  }\n\n  muteGame() {\n    if (!this.muted) {\n      this.soundButton.classList.toggle(\"selected\");\n      this.muteButton.classList.toggle(\"selected\");\n      this.song.pause();\n      this.song.currentTime = 0;\n      this.muted = true;\n    }\n  }\n\n  unmuteGame() {\n    if (this.muted) {\n      this.soundButton.classList.toggle(\"selected\");\n      this.muteButton.classList.toggle(\"selected\");\n      this.muted = false;\n      this.song.play();\n    }\n  }\n\n  music(song) {\n    this.song.pause();\n    this.song.currentTime = 0;\n    this.song = song;\n    this.song.onended = () => this.song.play();\n    if (!this.muted) {\n      this.song.play();\n    }\n  }\n\n  stopMusic() {\n    this.song.pause();\n  }\n\n  togglePause() {\n    const pauseEl = document.getElementById('pause');\n    this.paused = !this.paused;\n    if (this.paused) {\n      this.pauseSound.play();\n      pauseEl.style.visibility = 'visible';\n    } else {\n      pauseEl.style.visibility = 'hidden';\n    }\n  }\n\n\n  allObjects() {\n    return [this.link].concat(this.enemies).concat(this.items);\n  }\n\n  allMovingObjects() {\n    return [this.link].concat(this.enemies);\n  }\n\n  add(object) {\n    if (object instanceof Obstacle) {\n      this.obstacles.push(object);\n    } else {\n      this.enemies.push(object);\n    }\n  }\n\n  addEnemyToRandomSpawn() {\n    let pos = SPAWN_POS[Math.floor(Math.random() * 4)];\n    while (this.enemyWillCollideWithEnemy(pos, {box: [50, 50]})) {\n      pos = SPAWN_POS[Math.floor(Math.random() * 4)];\n    }\n\n    const enemyIdx = Math.random();\n    let enemy;\n    if (enemyIdx > 0.8) {\n      enemy = new Lynel({ game: this, link: this.link, pos });\n    } else if (enemyIdx > 0.7) {\n      enemy = new Snake({ game: this, link: this.link, pos });\n    } else if (enemyIdx > 0.4) {\n      enemy = new Moblin({ game: this, link: this.link, pos });\n    } else if (enemyIdx > 0.2) {\n      enemy = new Mummy({ game: this, link: this.link, pos });\n    } else {\n      enemy = new BlueKnight({ game: this, link: this.link, pos })\n    }\n\n    enemy.delta = enemy.delta + this.count / 30;\n    this.add(enemy);\n  }\n\n  addEnemies() {\n    this.music(this.overworldMusic);\n    SPAWN_POS.forEach(pos => {\n      const enemyIdx = Math.random();\n      if (enemyIdx > 0.5) {\n        this.add(new Moblin({ game: this, link: this.link, pos }));\n      } else {\n        this.add(new BlueKnight({ game: this, link: this.link, pos }));\n      }\n    });\n  }\n\n  addHeart(pos) {\n    this.items.push(new Heart({ pos, game: this }));\n  }\n\n  remove(object) {\n    const pos = object.pos;\n    if (Math.random() < object.dropChance) this.addHeart(pos);\n\n    this.enemies.splice(this.enemies.indexOf(object), 1);\n    this.count += 1;\n    this.updateKillCount();\n  }\n\n  updateKillCount() {\n    this.killCount.innerHTML = `${this.count}`;\n  }\n\n  removeItem(object) {\n    object.removeTimeouts();\n    this.items.splice(this.items.indexOf(object), 1);\n  }\n\n  isOutOfBounds(pos, box) {\n    return ((pos[0] < 0) || (pos[1] < 0) ||\n      (pos[0] > Game.DIM_X - box[0]) || (pos[1] > Game.DIM_Y - box[1])) || this.willCollideWithObstacle(pos, box);\n  }\n\n  enemyIsOutOfBounds(pos, enemy) {\n    return this.willCollideWithObstacle(pos, enemy.box) || (this.enemyWillCollideWithEnemy(pos, enemy) && !enemy.moveThrough);\n  }\n\n  enemyWillCollideWithEnemy(pos, enemy) {\n    for (let i = 0; i < this.enemies.length; i++) {\n      const otherEnemy = this.enemies[i];\n      if (enemy === otherEnemy || otherEnemy.moveThrough) continue;\n      if (otherEnemy.willCollideWith(pos, enemy.box)) return true;\n    }\n    return false;\n  }\n\n  willCollideWithObstacle(pos, box) {\n    for (let i = 0; i < this.obstacles.length; i++) {\n      const obstacle = this.obstacles[i];\n      if (obstacle.willCollideWith(pos, box)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  linkCollidedWithItem() {\n    for (let i = 0; i < this.items.length; i++) {\n      const heart = this.items[i];\n      if (heart.isCollidedWith(this.link)) {\n        this.heartSound.play();\n        if (this.link.life < 3) this.link.life += 1;\n        this.removeItem(heart);\n      }\n    }\n  }\n\n  checkEnemyCollidedWithLink() {\n    for (let i = 0; i < this.enemies.length; i++) {\n      const enemy = this.enemies[i];\n      if (enemy.isCollidedWith(this.link)) {\n        this.link.hitByEnemy(enemy.vect);\n      }\n    }\n    return false;\n  }\n\n  checkEnemyWillCollideWithSword() {\n    for (let i = 0; i < this.enemies.length; i++) {\n      const enemy = this.enemies[i];\n      if (this.link.hurtBox && enemy.isCollidedWith(this.link.hurtBox())) {\n        enemy.hitByLink();\n      }\n    }\n    return false;\n  }\n\n  moveObjects(delta) {\n    this.allMovingObjects().forEach((object) => {\n      object.move(delta);\n    });\n  }\n\n  step(delta) {\n    if (!this.paused) {\n      if (this.spawnEnemies && this.enemies.length <= 8 &&this.enemies.length < (4 + Math.floor(this.count / 10))) this.addEnemyToRandomSpawn();\n      this.moveObjects(delta);\n      this.checkEnemyWillCollideWithSword();\n      this.checkEnemyCollidedWithLink();\n      this.linkCollidedWithItem();\n    }\n  }\n\n  draw(ctx) {\n    if (!this.paused) {\n      ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n      ctx.fillStyle = \"#489847\";\n      ctx.fillRect(158, 90, 162, 202);\n      ctx.fillRect(158, 367, 162, 202);\n      ctx.drawImage(this.link.itemSprite, 174, 500, 16, 16, 28, 340, 32, 32);\n      ctx.drawImage(this.link.itemSprite, 174, 500, 16, 16, 28, 305, 32, 32);\n      ctx.drawImage(this.link.itemSprite, 174, 500, 16, 16, 1005, 340, 32, 32);\n      ctx.drawImage(this.link.itemSprite, 174, 500, 16, 16, 1005, 305, 32, 32);\n      this.allObjects().forEach((object) => {\n        object.draw(ctx);\n      });\n      \n      if (this.link.life === 0) {\n        this.gameover = true;\n        this.music(this.selectMusic);\n      }\n    }\n    \n    // this.obstacles.forEach((object) => {\n    //   object.draw(ctx);\n    // });\n  }\n\n  addObstacles() {\n    this.add(new Obstacle({ pos: [-400, -400], box: [525, 593] }));\n    this.add(new Obstacle({ pos: [125, -400], box: [55, 477] }));\n    this.add(new Obstacle({ pos: [125, 77], box: [15, 40] }));\n    this.add(new Obstacle({ pos: [180, -400], box: [14, 438] }));\n    this.add(new Obstacle({ pos: [436, 214], box: [76, 70] }));\n    this.add(new Obstacle({ pos: [-400, 537], box: [534, 463] }));\n    this.add(new Obstacle({ pos: [-400, 487], box: [496, 50] }));\n    this.add(new Obstacle({ pos: [96, 497], box: [18, 40] }));\n    this.add(new Obstacle({ pos: [114, 511], box: [10, 26] }));\n    this.add(new Obstacle({ pos: [415, -400], box: [115, 472] }));\n    this.add(new Obstacle({ pos: [434, 575], box: [153, 425] }));\n    this.add(new Obstacle({ pos: [447, 560], box: [13, 15] }));\n    this.add(new Obstacle({ pos: [566, 560], box: [13, 15] }));\n    this.add(new Obstacle({ pos: [460, 542], box: [106, 33] }));\n    this.add(new Obstacle({ pos: [490, 528], box: [45, 14] }));\n    this.add(new Obstacle({ pos: [-400, 193], box: [480, 28] }));\n    this.add(new Obstacle({ pos: [-400, 220], box: [458, 195] }));\n    this.add(new Obstacle({ pos: [-400, 415], box: [475, 71] }));\n    this.add(new Obstacle({ pos: [688, 391], box: [116, 150] }));\n    this.add(new Obstacle({ pos: [680, 410], box: [8, 92] }));\n    this.add(new Obstacle({ pos: [671, 420], box: [9, 34] }));\n    this.add(new Obstacle({ pos: [803, 420], box: [17, 38] }));\n    this.add(new Obstacle({ pos: [720, 375], box: [52, 16] }));\n    this.add(new Obstacle({ pos: [648, 118], box: [116, 150] }));\n    this.add(new Obstacle({ pos: [640, 136], box: [8, 92] }));\n    this.add(new Obstacle({ pos: [631, 144], box: [9, 34] }));\n    this.add(new Obstacle({ pos: [763, 144], box: [17, 38] }));\n    this.add(new Obstacle({ pos: [680, 102], box: [52, 16] }));\n    this.add(new Obstacle({ pos: [890, -400], box: [160, 470] }));\n    this.add(new Obstacle({ pos: [950, 70], box: [100, 115] }));\n    this.add(new Obstacle({ pos: [927, 70], box: [23, 60] }));\n    this.add(new Obstacle({ pos: [1005, 185], box: [45, 220] }));\n    this.add(new Obstacle({ pos: [989, 185], box: [16, 51] }));\n    this.add(new Obstacle({ pos: [929, 520], box: [121, 480] }));\n    this.add(new Obstacle({ pos: [989, 404], box: [61, 116] }));\n    this.add(new Obstacle({ pos: [953, 499], box: [36, 21] }));\n  }\n}\n\nGame.DIM_X = 1050;\nGame.DIM_Y = 600;\nGame.FPS = 32;\n\nexport default Game;","import Game from \"./game\";\n\nclass GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n    this.link = this.game.link;\n    this.animate = this.animate.bind(this);\n    this.restartSound = new Audio('./assets/sounds/LTTP_Secret.wav');\n    this.parseKeyDown = this.parseKeyDown.bind(this);\n  }\n\n  bindKeyHandlers() {\n    document.addEventListener('keydown', this.parseKeyDown);\n    document.addEventListener('keydown', this.link.parseKeyDown);\n    document.addEventListener('keydown', this.game.parseKeyDown);\n    document.addEventListener('keyup', this.link.parseKeyUp);\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n\n    requestAnimationFrame(this.animate);\n  }\n\n  animate(time) {\n    if (!this.game.gameover) {\n      const timeDelta = time - this.lastTime;\n\n      this.game.step(timeDelta);\n      this.game.draw(this.ctx);\n      this.lastTime = time;\n\n      requestAnimationFrame(this.animate);\n    } else {\n      this.btn = document.createElement(\"BUTTON\");\n      const text = document.createTextNode(\"restart\");\n      this.gameover = document.getElementById('gameover');\n      this.btn.appendChild(text);\n      this.btn.onclick = () => this.newGame();\n      this.gameover.appendChild(this.btn);\n      this.gameover.style.visibility = 'visible';\n      this.gameover.style.opacity = 1;\n    }\n  }\n\n  newGame() {\n    this.restartSound.play();\n    this.gameover.removeChild(this.btn);\n    this.gameover.style.visibility = 'hidden';\n    this.gameover.style.opacity = 0;\n    const enterEl = document.getElementById('enter');\n    enterEl.style.opacity = 1;\n    const controlsEl = document.getElementById('controls');\n    controlsEl.style.opacity = 1;\n    this.game.stopMusic();\n    this.game = new Game({ muted: this.game.muted });\n    this.link = this.game.link;\n    this.start();\n  }\n\n  parseKeyDown(e) {\n    // e.preventDefault();\n    if (e.keyCode === 13) {\n      if (this.game.gameover) this.newGame();\n    }\n  }\n}\n\nexport default GameView;","import Entity from \"./entity\";\n\nclass Heart extends Entity {\n  constructor(options) {\n    super(options);\n    this.box = [14, 13];\n    this.draw = this.draw.bind(this);\n    this.startFlash = this.startFlash.bind(this);\n    this.removeTimeouts = this.removeTimeouts.bind(this);\n    this.tickCount = 0;\n    this.ticksPerFrame = 4;\n    this.flashCount = false;\n    this.flashTimeout = setTimeout(this.startFlash, 10000);\n  }\n\n  startFlash() {\n    this.flash = true;\n    this.removeTimout = setTimeout(() => this.game.removeItem(this), 5000);\n  }\n\n  removeTimeouts() {\n    clearTimeout(this.flashTimeout);\n    clearTimeout(this.removeTimout);\n  }\n\n  draw(ctx) {\n    if (this.flash && this.flashCount) {\n      this.update();\n    } else {\n      ctx.drawImage(this.itemSprite, 153, 30, 14, 13, this.pos[0], this.pos[1], 21, 19.5);\n      this.update();\n    }\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      this.flashCount = !this.flashCount;\n    }\n  }\n}\n\nexport default Heart;","import GameView from \"./game_view\";\nimport Game from \"./game\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game({ muted: true });\n  new GameView(game, ctx).start();\n});","import Sword from \"./sword\";\nimport Entity from \"./entity\";\n\nconst WALK_DOWN = [3, 33, 63, 93, 123, 153, 183, 213];\nconst WALK_UP = [2, 32, 62, 92, 122, 152, 182, 212];\nconst WALK_SIDE = [241, 272, 301, 331, 361, 392];\nconst SWORD_UP = [\n  [0, 181, 22, 22],\n  [30, 177, 22, 30],\n  [61, 174, 20, 35],\n  [89, 177, 24, 30],\n  [115, 180, 32, 23]\n];\nconst SWORD_DOWN = [\n  [1, 90, 20, 23],\n  [30, 90, 22, 24],\n  [61, 86, 20, 31],\n  [91, 86, 20, 31],\n  [115, 87, 28, 29],\n  [145, 88, 32, 27]\n];\nconst SWORD_LEFT = [\n  [242, 90, 18, 23],\n  [268, 90, 26, 24],\n  [295, 91, 31, 21],\n  [327, 91, 28, 21],\n  [359, 86, 23, 31],\n  [393, 91, 16, 22]\n];\nconst SWORD_RIGHT = [\n  [242, 180, 18, 23],\n  [268, 180, 26, 24],\n  [295, 181, 31, 21],\n  [327, 181, 28, 21],\n  [359, 176, 23, 31],\n  [393, 181, 16, 22]\n];\nconst SPIN_DOWN = [\n  [504, 139, 20, 26, 0, 4],\n  [532, 126, 15, 36, 0, 14],\n  [576, 138, 20, 26, 0, 4],\n  [604, 142, 28, 22, 0, 0],\n  [638, 142, 28, 22, 0, 0],\n  [673, 141, 17, 31, 0, 0],\n  [695, 142, 28, 22, 12, 0],\n  [729, 142, 28, 22, 12, 0],\n  [764, 136, 16, 28, 0, 6],\n  [791, 138, 20, 26, 0, 4],\n  [818, 142, 16, 22, 0, 0]\n];\nconst SPIN_UP = [\n  [487, 60, 20, 27, 3, 0],\n  [516, 61, 15, 35, -1, 0],\n  [595, 60, 20, 27, 3, 0],\n  [620, 60, 28, 22, 11, 0],\n  [657, 54, 16, 28, 0, 6],\n  [681, 60, 28, 22, 0, 0],\n  [720, 60, 16, 31, 0, 0],\n  [746, 61, 17, 31, 0, 0],\n  [767, 61, 20, 27, 3, 0],\n  [797, 61, 17, 22, 0, 0]\n];\nconst SPIN_LEFT = [\n  [500, 19, 23, 23, 0, 0],\n  [536, 19, 31, 23, 0, 0],\n  [664, 19, 23, 23, 0, 0],\n  [697, 19, 16, 31, 0, 0],\n  [718, 19, 28, 23, 12, 0],\n  [750, 19, 28, 23, 12, 0],\n  [789, 13, 17, 29, 0, 6],\n  [815, 19, 28, 23, 0, 0],\n  [845, 19, 28, 23, 0, 0],\n  [879, 19, 23, 23, 0, 0]\n];\nconst SPIN_RIGHT = [\n  [379, 19, 23, 23, 7, 0],\n  [335, 19, 31, 23, 15, 0],\n  [215, 19, 23, 23, 6, 0],\n  [189, 19, 16, 31, 0, 0],\n  [156, 19, 28, 23, 0, 0],\n  [124, 19, 28, 23, 0, 0],\n  [96, 13, 17, 29, 0, 6],\n  [59, 19, 28, 23, 12, 0],\n  [29, 19, 28, 23, 12, 0],\n  [0, 19, 23, 23, 7, 0]\n];\n\nclass Link extends Entity {\n  constructor(options) {\n    super(options);\n    this.linkSprite = new Image();\n    this.linkSprite.src = \"./assets/sprites/link.png\";\n    this.linkSprite2 = new Image();\n    this.linkSprite2.src = \"./assets/sprites/link.gif\";\n    this.linkSprite3 = new Image();\n    this.linkSprite3.src = \"./assets/sprites/link2.gif\";\n    this.swordSound = new Audio('./assets/sounds/LTTP_Sword.wav');\n    this.hurtSound = new Audio('./assets/sounds/LTTP_Link_Hurt.wav');\n    this.deathSound = new Audio('./assets/sounds/LTTP_Link_Dying.wav');\n    this.swordChargeSound = new Audio('./assets/sounds/LTTP_Sword_Charge.wav');\n    this.swordSpinSound = new Audio('./assets/sounds/LTTP_Sword_Spin.wav');\n\n    this.scale = 2;\n    this.frameIndex = 0;\n    this.tickCount = 0;\n    this.ticksPerFrame = 6;\n    this.pos = [473, 310];\n    this.walkDir = 'down';\n    this.frameLen = 7;\n    this.box = [32, 48];\n    this.canSwing = true;\n    this.life = 3;\n\n    this.draw = this.draw.bind(this);\n    this.move = this.move.bind(this);\n    this.parseKeyDown = this.parseKeyDown.bind(this);\n    this.toggleSword = this.toggleSword.bind(this);\n    this.parseKeyUp = this.parseKeyUp.bind(this);\n    this.update = this.update.bind(this);\n    this.toggleHit = this.toggleHit.bind(this);\n    this.toggleInvinsible = this.toggleInvinsible.bind(this);\n    this.createHurtBox = this.createHurtBox.bind(this);\n    this.toggleSpin = this.toggleSpin.bind(this);\n  }\n\n  parseKeyUp(e) {\n    // e.preventDefault();\n    if (e.keyCode === 32) {\n      if (this.spinCharged) {\n        this.frameIndex = 2;\n        this.ticksPerFrame = 2;\n        this.spinning = true;\n        this.swordSpinSound.play();\n        this.cancelSpin = true;\n        this.spinCharged = false;\n        this.hurtBox = () => new Sword({ pos: [this.x() - 25, this.y() - 25], box: [85, 85] });\n      } else {\n        clearTimeout(this.spinTimout);\n        clearTimeout(this.soundTimout);\n        this.cancelSpin = true;\n        this.chargingSpin = false;\n        this.swordChargeSound.pause();\n        this.swordChargeSound.currentTime = 0;\n        this.canSwing = true;\n      }\n    }\n\n    if (e.keyCode === 87 || e.keyCode === 38) this.up = false;\n    if (e.keyCode === 65 || e.keyCode === 37) this.left = false;\n    if (e.keyCode === 83 || e.keyCode === 40) this.down = false;\n    if (e.keyCode === 68 || e.keyCode === 39) this.right = false;\n  }\n\n  parseKeyDown(e) {\n    // e.preventDefault();\n    if (e.keyCode === 32) this.swingSword();\n    if (e.keyCode === 87 || e.keyCode === 38) this.up = true;\n    if (e.keyCode === 65 || e.keyCode === 37) this.left = true;\n    if (e.keyCode === 83 || e.keyCode === 40) this.down = true;\n    if (e.keyCode === 68 || e.keyCode === 39) this.right = true;\n  }\n\n  move(timeDelta) {\n    let vel;\n    let dx = 0;\n    let dy = 0;\n    if (this.hit) {\n      const delta = 4;\n      vel = [this.vect[0] * delta, this.vect[1] * delta];\n    } else {\n      if (!this.sword) {\n        if (this.up) dy += -1;\n        if (this.left) dx += -1;\n        if (this.down) dy += 1;\n        if (this.right) dx += 1;\n      }\n\n      const len = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n      const vect = [dx / len || 0, dy / len || 0];\n\n      let delta;\n      if (this.chargingSpin || this.spinCharged) {\n        delta = 0.5;\n      } else {\n        delta = 2;\n      }\n\n      vel = [vect[0] * delta, vect[1] * delta];\n\n      if (vel[0] === 0 && vel[1] === 0) {\n        this.walking = false;\n      } else {\n        if (!this.walking) this.frameIndex = 0;\n        this.walking = true;\n      }\n    }\n\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = vel[0] * velocityScale,\n      offsetY = vel[1] * velocityScale;\n\n    const newPos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n\n    if (this.game.isOutOfBounds(newPos, this.box)) {\n      const newPosX = [this.pos[0] + offsetX, this.pos[1]];\n      const newPosY = [this.pos[0], this.pos[1] + offsetY];\n\n      if (!this.game.isOutOfBounds(newPosX, this.box)) {\n        this.pos = newPosX;\n      }\n      if (!this.game.isOutOfBounds(newPosY, this.box)) {\n        this.pos = newPosY;\n      }\n    } else {\n      this.pos = newPos;\n    }\n  }\n\n\n  swingSword() {\n    if (!this.sword && this.canSwing) {\n      if (!this.game.gameover) this.swordSound.play();\n      this.sword = true;\n      this.canSwing = false;\n      this.frameIndex = 0;\n      this.ticksPerFrame = 2;\n\n      if (this.walkDir === 'down') {\n        this.createHurtBox({ pos: [this.x() - 10, this.y() + 25], box: [70, 40] });\n      } else if (this.walkDir === 'up') {\n        this.createHurtBox({ pos: [this.x() - 25, this.y() - 25], box: [70, 45] });\n      } else if (this.walkDir === 'left') {\n        this.createHurtBox({ pos: [this.x() - 30, this.y()], box: [40, 60] });\n      } else if (this.walkDir === 'right') {\n        this.createHurtBox({ pos: [this.x() + 25, this.y()], box: [40, 60] });\n      }\n    }\n  }\n\n  createHurtBox(options) {\n    this.hurtBox = () => new Sword(options);\n  }\n\n  toggleSword() {\n    if (this.canSwing) {\n      this.frameLen = WALK_SIDE.length;\n    } else {\n      this.chargingSpin = true;\n      this.cancelSpin = false;\n      // clearTimeout(this.spinTimout);\n      // clearTimeout(this.soundTimout);\n      this.soundTimeout = setTimeout(this.playChargeSound.bind(this), 250);\n      this.spinTimeout = setTimeout(this.finishChargeing.bind(this), 500);\n    }\n    this.ticksPerFrame = 6;\n    this.sword = !this.sword;\n    this.hurtBox = null;\n  }\n\n  toggleSpin() {\n    this.spinning = false;\n    this.ticksPerFrame = 6;\n    this.hurtBox = null;\n    this.canSwing = true;\n  }\n\n  playChargeSound() {\n    if (!this.cancelSpin) {\n      this.swordChargeSound.play();\n    }\n  }\n\n  finishChargeing() {\n    if (!this.cancelSpin) {\n      this.spinCharged = true;\n      this.chargingSpin = false;\n    }\n  }\n\n  hitByEnemy(vect) {\n    if (!this.invisible && !this.spinning) {\n      this.hurtSound.play();\n      this.vect = vect;\n      this.hit = true;\n      this.invisible = true;\n      this.invisibleFrameCount = 1;\n      this.life -= 1;\n      setTimeout(this.toggleHit, 300);\n      setTimeout(this.toggleInvinsible, 2000);\n    }\n  }\n\n  toggleHit() {\n    this.hit = !this.hit;\n  }\n\n  toggleInvinsible() {\n    this.invisible = !this.invisible;\n  }\n\n\n  draw(ctx) {\n    if (this.life === 0) {\n      this.deathSound.play();\n      ctx.drawImage(this.linkSprite, 89, 214, 24, 15, this.pos[0], this.pos[1], 48, 30);\n    } else {\n      if (!(this.invisible && this.invisibleFrameCount % 2 === 0)) {\n        if (this.sword) {\n          this.drawSwingSword(ctx);\n        } else if (this.chargingSpin) {\n          this.drawSpinCharging(ctx);\n        } else if (this.spinCharged) {\n          this.drawSpinCharged(ctx);\n        } else if (this.spinning) {\n          this.drawSpin(ctx);\n        } else {\n          this.setWalkDir();\n          if (this.walking) {\n            this.drawLinkWalking(ctx);\n          } else {\n            this.drawLinkStanding(ctx);\n          }\n        }\n      }\n    }\n\n    // if (this.hurtBox) this.hurtBox().draw(ctx);\n    this.drawLife(ctx);\n    this.update();\n  }\n\n  drawLinkWalking(ctx) {\n    if (this.walkDir === 'down') {\n      this.frameLen = WALK_DOWN.length;\n      ctx.drawImage(this.linkSprite, WALK_DOWN[this.frameIndex], 30, 16, 24, this.pos[0], this.pos[1], 32, 48);\n    } else if (this.walkDir === 'up') {\n      this.frameLen = WALK_UP.length;\n      ctx.drawImage(this.linkSprite, WALK_UP[this.frameIndex], 120, 17, 24, this.pos[0], this.pos[1], 34, 48);\n    } else if (this.walkDir === 'right') {\n      this.frameLen = WALK_SIDE.length;\n      ctx.drawImage(this.linkSprite, WALK_SIDE[this.frameIndex], 120, 19, 24, this.pos[0], this.pos[1], 38, 48);\n    } else if (this.walkDir === 'left') {\n      this.frameLen = WALK_SIDE.length;\n      ctx.drawImage(this.linkSprite, WALK_SIDE[this.frameIndex], 30, 19, 24, this.pos[0], this.pos[1], 38, 48);\n    }\n  }\n\n  drawLinkStanding(ctx) {\n    if (this.walkDir === 'down') {\n      ctx.drawImage(this.linkSprite, 33, 1, 16, 22, this.pos[0], this.pos[1], 32, 44);\n    } else if (this.walkDir === 'up') {\n      ctx.drawImage(this.linkSprite, 63, 1, 16, 22, this.pos[0], this.pos[1], 32, 44);\n    } else if (this.walkDir === 'right') {\n      ctx.drawImage(this.linkSprite, 331, 120, 19, 23, this.pos[0], this.pos[1], 38, 46);\n    } else if (this.walkDir === 'left') {\n      ctx.drawImage(this.linkSprite, 151, 0, 19, 23, this.pos[0], this.pos[1], 38, 46);\n    }\n  }\n\n  drawSwingSword(ctx) {\n    if (this.walkDir === 'down') {\n      this.frameLen = SWORD_DOWN.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_DOWN[this.frameIndex][0],\n        SWORD_DOWN[this.frameIndex][1],\n        SWORD_DOWN[this.frameIndex][2],\n        SWORD_DOWN[this.frameIndex][3],\n        this.pos[0],\n        this.pos[1],\n        SWORD_DOWN[this.frameIndex][2] * this.scale,\n        SWORD_DOWN[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'up') {\n      this.frameLen = SWORD_UP.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_UP[this.frameIndex][0],\n        SWORD_UP[this.frameIndex][1],\n        SWORD_UP[this.frameIndex][2],\n        SWORD_UP[this.frameIndex][3],\n        this.pos[0] - SWORD_UP[this.frameIndex][2] * this.scale + 40,\n        this.pos[1] - SWORD_UP[this.frameIndex][3] * this.scale + 42,\n        SWORD_UP[this.frameIndex][2] * this.scale,\n        SWORD_UP[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'left') {\n      this.frameLen = SWORD_LEFT.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_LEFT[this.frameIndex][0],\n        SWORD_LEFT[this.frameIndex][1],\n        SWORD_LEFT[this.frameIndex][2],\n        SWORD_LEFT[this.frameIndex][3],\n        this.pos[0] - SWORD_LEFT[this.frameIndex][2] * this.scale + 32,\n        this.pos[1],\n        SWORD_LEFT[this.frameIndex][2] * this.scale,\n        SWORD_LEFT[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'right') {\n      this.frameLen = SWORD_RIGHT.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_RIGHT[this.frameIndex][0],\n        SWORD_RIGHT[this.frameIndex][1],\n        SWORD_RIGHT[this.frameIndex][2],\n        SWORD_RIGHT[this.frameIndex][3],\n        this.pos[0],\n        this.pos[1],\n        SWORD_RIGHT[this.frameIndex][2] * this.scale,\n        SWORD_RIGHT[this.frameIndex][3] * this.scale\n      );\n    }\n  }\n\n  drawSpinCharging(ctx) {\n    if (this.walkDir === 'down') {\n      // this.frameLen = SPIN_DOWN.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_DOWN[0][0],\n        SPIN_DOWN[0][1],\n        SPIN_DOWN[0][2],\n        SPIN_DOWN[0][3],\n        this.pos[0] - SPIN_DOWN[0][4] * this.scale,\n        this.pos[1] - SPIN_DOWN[0][5] * this.scale,\n        SPIN_DOWN[0][2] * this.scale,\n        SPIN_DOWN[0][3] * this.scale\n      );\n    } else if (this.walkDir === 'up') {\n      // this.frameLen = SPIN_UP.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_UP[0][0],\n        SPIN_UP[0][1],\n        SPIN_UP[0][2],\n        SPIN_UP[0][3],\n        this.pos[0] - SPIN_UP[0][4] * this.scale,\n        this.pos[1] - SPIN_UP[0][5] * this.scale,\n        SPIN_UP[0][2] * this.scale,\n        SPIN_UP[0][3] * this.scale\n      );\n    } else if (this.walkDir === 'left') {\n      // this.frameLen = SPIN_LEFT.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_LEFT[0][0],\n        SPIN_LEFT[0][1],\n        SPIN_LEFT[0][2],\n        SPIN_LEFT[0][3],\n        this.pos[0] - SPIN_LEFT[0][4] * this.scale,\n        this.pos[1] - SPIN_LEFT[0][5] * this.scale,\n        SPIN_LEFT[0][2] * this.scale,\n        SPIN_LEFT[0][3] * this.scale\n      );\n    } else if (this.walkDir === 'right') {\n      // this.frameLen = SPIN_RIGHT.length;\n      ctx.drawImage(this.linkSprite3,\n        SPIN_RIGHT[0][0],\n        SPIN_RIGHT[0][1],\n        SPIN_RIGHT[0][2],\n        SPIN_RIGHT[0][3],\n        this.pos[0] - SPIN_RIGHT[0][4] * this.scale,\n        this.pos[1] - SPIN_RIGHT[0][5] * this.scale,\n        SPIN_RIGHT[0][2] * this.scale,\n        SPIN_RIGHT[0][3] * this.scale\n      );\n    }\n  }\n\n  drawSpinCharged(ctx) {\n    if (this.walkDir === 'down') {\n      // this.frameLen = SPIN_DOWN.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_DOWN[1][0],\n        SPIN_DOWN[1][1],\n        SPIN_DOWN[1][2],\n        SPIN_DOWN[1][3],\n        this.pos[0] - SPIN_DOWN[1][4] * this.scale,\n        this.pos[1] - SPIN_DOWN[1][5] * this.scale,\n        SPIN_DOWN[1][2] * this.scale,\n        SPIN_DOWN[1][3] * this.scale\n      );\n    } else if (this.walkDir === 'up') {\n      // this.frameLen = SPIN_UP.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_UP[1][0],\n        SPIN_UP[1][1],\n        SPIN_UP[1][2],\n        SPIN_UP[1][3],\n        this.pos[0] - SPIN_UP[1][4] * this.scale,\n        this.pos[1] - SPIN_UP[1][5] * this.scale,\n        SPIN_UP[1][2] * this.scale,\n        SPIN_UP[1][3] * this.scale\n      );\n    } else if (this.walkDir === 'left') {\n      // this.frameLen = SPIN_LEFT.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_LEFT[1][0],\n        SPIN_LEFT[1][1],\n        SPIN_LEFT[1][2],\n        SPIN_LEFT[1][3],\n        this.pos[0] - SPIN_LEFT[1][4] * this.scale,\n        this.pos[1] - SPIN_LEFT[1][5] * this.scale,\n        SPIN_LEFT[1][2] * this.scale,\n        SPIN_LEFT[1][3] * this.scale\n      );\n    } else if (this.walkDir === 'right') {\n      // this.frameLen = SPIN_RIGHT.length;\n      ctx.drawImage(this.linkSprite3,\n        SPIN_RIGHT[1][0],\n        SPIN_RIGHT[1][1],\n        SPIN_RIGHT[1][2],\n        SPIN_RIGHT[1][3],\n        this.pos[0] - SPIN_RIGHT[1][4] * this.scale,\n        this.pos[1] - SPIN_RIGHT[1][5] * this.scale,\n        SPIN_RIGHT[1][2] * this.scale,\n        SPIN_RIGHT[1][3] * this.scale\n      );\n    }\n  }\n\n  drawSpin(ctx) {\n    if (this.walkDir === 'down') {\n      this.frameLen = SPIN_DOWN.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_DOWN[this.frameIndex][0],\n        SPIN_DOWN[this.frameIndex][1],\n        SPIN_DOWN[this.frameIndex][2],\n        SPIN_DOWN[this.frameIndex][3],\n        this.pos[0] - SPIN_DOWN[this.frameIndex][4] * this.scale,\n        this.pos[1] - SPIN_DOWN[this.frameIndex][5] * this.scale,\n        SPIN_DOWN[this.frameIndex][2] * this.scale,\n        SPIN_DOWN[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'up') {\n      this.frameLen = SPIN_UP.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_UP[this.frameIndex][0],\n        SPIN_UP[this.frameIndex][1],\n        SPIN_UP[this.frameIndex][2],\n        SPIN_UP[this.frameIndex][3],\n        this.pos[0] - SPIN_UP[this.frameIndex][4] * this.scale,\n        this.pos[1] - SPIN_UP[this.frameIndex][5] * this.scale,\n        SPIN_UP[this.frameIndex][2] * this.scale,\n        SPIN_UP[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'left') {\n      this.frameLen = SPIN_LEFT.length;\n      ctx.drawImage(this.linkSprite2,\n        SPIN_LEFT[this.frameIndex][0],\n        SPIN_LEFT[this.frameIndex][1],\n        SPIN_LEFT[this.frameIndex][2],\n        SPIN_LEFT[this.frameIndex][3],\n        this.pos[0] - SPIN_LEFT[this.frameIndex][4] * this.scale,\n        this.pos[1] - SPIN_LEFT[this.frameIndex][5] * this.scale,\n        SPIN_LEFT[this.frameIndex][2] * this.scale,\n        SPIN_LEFT[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'right') {\n      this.frameLen = SPIN_RIGHT.length;\n      ctx.drawImage(this.linkSprite3,\n        SPIN_RIGHT[this.frameIndex][0],\n        SPIN_RIGHT[this.frameIndex][1],\n        SPIN_RIGHT[this.frameIndex][2],\n        SPIN_RIGHT[this.frameIndex][3],\n        this.pos[0] - SPIN_RIGHT[this.frameIndex][4] * this.scale,\n        this.pos[1] - SPIN_RIGHT[this.frameIndex][5] * this.scale,\n        SPIN_RIGHT[this.frameIndex][2] * this.scale,\n        SPIN_RIGHT[this.frameIndex][3] * this.scale\n      );\n    }\n  }\n\n  drawLife(ctx) {\n    let spriteX;\n    for (let i = 1; i <= 3; i++) {\n      if (i > this.life) {\n        spriteX = 456;\n      } else {\n        spriteX = 440;\n      }\n\n      ctx.drawImage(this.linkSprite2, spriteX, 147, 7, 7, 900 + i * 35, 10, 28, 28);\n    }\n  }\n\n  setWalkDir() {\n    if (this.down && !this.left && !this.right && !this.RIGHT) {\n      if (this.walkDir !== 'down') this.frameIndex = 0;\n      this.walkDir = 'down';\n      // this.frameLen = WALK_DOWN.length;\n    } else if (!this.down && this.left && !this.right && !this.up) {\n      if (this.walkDir !== 'left') this.frameIndex = 0;\n      this.walkDir = 'left';\n      // this.frameLen = WALK_SIDE.length;\n    } else if (!this.down && !this.left && this.right && !this.up) {\n      if (this.walkDir !== 'right') this.frameIndex = 0;\n      this.walkDir = 'right';\n      // this.frameLen = WALK_SIDE.length;\n    } else if (!this.down && !this.left && !this.right && this.up) {\n      if (this.walkDir !== 'up') this.frameIndex = 0;\n      this.walkDir = 'up';\n      // this.frameLen = WALK_UP.length;\n    }\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.invisible) this.invisibleFrameCount += 1;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.sword) this.toggleSword();\n        if (this.spinning) this.toggleSpin();\n        this.frameIndex = 0;\n      }\n    }\n  }\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nexport default Link;","import Entity from \"./entity\";\n\nclass Obstacle extends Entity {\n  // constructor(options) {\n  //   super(options);\n  //   this.draw = this.draw.bind(this);\n  // }\n\n  // draw(ctx) {\n  //   ctx.beginPath();\n  //   ctx.lineWidth = \"1\";\n  //   ctx.strokeStyle = \"black\";\n  //   ctx.rect(this.pos[0], this.pos[1], this.width(), this.height());\n  //   ctx.stroke();\n  // }\n}\n\nexport default Obstacle;","import Entity from \"./entity\";\n\nclass Sword extends Entity {\n  // constructor(options) {\n  //   super(options);\n  //   this.draw = this.draw.bind(this);\n  // }\n\n  // draw(ctx) {\n  //   ctx.beginPath();\n  //   ctx.lineWidth = \"1\";\n  //   ctx.strokeStyle = \"black\";\n  //   ctx.rect(this.x(), this.y(), this.width(), this.height());\n  //   ctx.stroke();\n  // }\n}\n\nexport default Sword;"],"sourceRoot":""}