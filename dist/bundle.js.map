{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/blue_knight.js","webpack:///./src/enemy.js","webpack:///./src/entity.js","webpack:///./src/game.js","webpack:///./src/game_view.js","webpack:///./src/heart.js","webpack:///./src/index.js","webpack:///./src/link.js","webpack:///./src/lynel.js","webpack:///./src/moblin.js","webpack:///./src/obstacle.js","webpack:///./src/sword.js"],"names":["BLUE_DOWN","BLUE_UP","BLUE_LEFT","BLUE_RIGHT","BlueKnight","options","blueSprite","Image","src","blueSprite2","frameLen","box","life","delta","dropChance","draw","bind","update","tickCount","ticksPerFrame","frameIndex","remove","ctx","drawDeath","walkDir","length","drawImage","pos","scale","Enemy","DEATH","link","deathSprite","hitSound","Audio","deathSound","angle1","angle2","move","toggleHit","dx","x","dy","y","len","Math","sqrt","pow","angleToLink","angleToPos","angleToLink1","angleToLink2","dist","distanceToObject","timeOut","walking","clearTimeout","checkObstacles","setTimeout","PI","angle","obstacles","game","i","obj","objectBetweenSelfAndLink","borders","width","height","corners","j","corner","newPos","findNewPoint","intersects","a","b","c","d","p","q","r","s","det","gamma","lambda","distance","result","round","cos","sin","timeDelta","toggleMoveThrough","vel","moveThrough","findMoveAngle","vect","setWalkDir","hitVect","velocityScale","NORMAL_FRAME_TIME_DELTA","offsetX","offsetY","enemyIsOutOfBounds","newPosX","newPosY","hit","enemyWillCollideWithEnemy","linkVect","vectorTowardsLink","abs","play","Entity","otherObject","atan","lowerLeft","lowerRight","upperLeft","upperRight","max","min","SPAWN_POS","Game","pauseSound","heartSound","overworldMusic","kakarikoMusic","selectMusic","muteButton","document","getElementById","soundButton","killCount","Link","enemies","items","song","muted","spawnEnemies","count","parseKeyDown","togglePause","muteGame","unmuteGame","stopMusic","music","updateKillCount","onclick","addObstacles","e","preventDefault","keyCode","addEnemies","enterEl","style","opacity","controlsEl","gameover","classList","toggle","pause","currentTime","onended","pauseEl","paused","visibility","concat","object","Obstacle","push","floor","random","enemyIdx","add","Lynel","Moblin","forEach","Heart","addHeart","splice","indexOf","innerHTML","DIM_X","DIM_Y","willCollideWithObstacle","enemy","otherEnemy","willCollideWith","obstacle","heart","isCollidedWith","removeItem","hitByEnemy","hurtBox","hitByLink","allMovingObjects","addEnemyToRandomSpawn","moveObjects","checkEnemyWillCollideWithSword","checkEnemyCollidedWithLink","linkCollidedWithItem","clearRect","allObjects","FPS","GameView","animate","restartSound","addEventListener","parseKeyUp","bindKeyHandlers","lastTime","requestAnimationFrame","time","step","btn","createElement","text","createTextNode","appendChild","newGame","parent","removeChild","start","heartSprite","canvasEl","getElementsByTagName","getContext","WALK_DOWN","WALK_UP","WALK_SIDE","SWORD_UP","SWORD_DOWN","SWORD_LEFT","SWORD_RIGHT","linkSprite","linkSprite2","swordSound","hurtSound","canSwing","toggleSword","toggleInvinsible","createHurtBox","up","left","down","right","swingSword","sword","isOutOfBounds","Sword","invisible","invisibleFrameCount","drawSwingSword","drawLinkWalking","drawLinkStanding","drawLife","spriteX","LYNEL_DOWN","LYNEL_UP","LYNEL_LEFT","LYNEL_RIGHT","lynelSprite","lynelSprite2","MOBLIN_DOWN","MOBLIN_UP","MOBLIN_LEFT","MOBLIN_RIGHT","moblinSprite"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import Enemy from \"./enemy\";\n\nconst BLUE_DOWN = [\n  [1, 156, 22, 35],\n  [1, 197, 22, 33],\n  [1, 235, 22, 38],\n  [1, 277, 22, 34]\n];\nconst BLUE_UP = [\n  [81, 161, 22, 26],\n  [81, 197, 22, 33],\n  [81, 240, 22, 27],\n  [81, 281, 22, 26]\n];\nconst BLUE_LEFT = [\n  [37, 161, 29, 26],\n  [36, 200, 32, 27],\n  [37, 240, 29, 27]\n];\nconst BLUE_RIGHT = [\n  [279, 161, 29, 26],\n  [277, 200, 32, 27],\n  [279, 240, 29, 27]\n];\n\nclass BlueKnight extends Enemy {\n  constructor(options) {\n    super(options);\n    this.blueSprite = new Image();\n    this.blueSprite.src = \"./assets/sprites/enemies.png\";\n    this.blueSprite2 = new Image();\n    this.blueSprite2.src = \"./assets/sprites/enemies2.png\";\n\n    this.frameLen = 4;\n    this.box = [44, 56];\n    this.life = 4;\n    this.delta = 0.75;\n    this.dropChance = 0.3;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life === 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life === 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        this.frameLen = BLUE_DOWN.length;\n        ctx.drawImage(this.blueSprite,\n          BLUE_DOWN[this.frameIndex][0],\n          BLUE_DOWN[this.frameIndex][1],\n          BLUE_DOWN[this.frameIndex][2],\n          BLUE_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          BLUE_DOWN[this.frameIndex][2] * this.scale,\n          BLUE_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        this.frameLen = BLUE_UP.length;\n        ctx.drawImage(this.blueSprite,\n          BLUE_UP[this.frameIndex][0],\n          BLUE_UP[this.frameIndex][1],\n          BLUE_UP[this.frameIndex][2],\n          BLUE_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1] - BLUE_UP[this.frameIndex][3] * this.scale + 74,\n          BLUE_UP[this.frameIndex][2] * this.scale,\n          BLUE_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        this.frameLen = BLUE_LEFT.length;\n        ctx.drawImage(this.blueSprite,\n          BLUE_LEFT[this.frameIndex][0],\n          BLUE_LEFT[this.frameIndex][1],\n          BLUE_LEFT[this.frameIndex][2],\n          BLUE_LEFT[this.frameIndex][3],\n          this.pos[0] - BLUE_LEFT[this.frameIndex][2] * this.scale + 66,\n          this.pos[1],\n          BLUE_LEFT[this.frameIndex][2] * this.scale,\n          BLUE_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        this.frameLen = BLUE_RIGHT.length;\n        ctx.drawImage(this.blueSprite2,\n          BLUE_RIGHT[this.frameIndex][0],\n          BLUE_RIGHT[this.frameIndex][1],\n          BLUE_RIGHT[this.frameIndex][2],\n          BLUE_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          BLUE_RIGHT[this.frameIndex][2] * this.scale,\n          BLUE_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default BlueKnight;","import Entity from \"./entity\";\n\nconst DEATH = [\n  [83, 8, 16, 15],\n  [110, 9, 14, 14],\n  [132, 4, 22, 22],\n  [157, 5, 24, 22]\n];\n\nclass Enemy extends Entity {\n  constructor(options) {\n    super(options);\n    this.link = options.link;\n    this.deathSprite = new Image();\n    this.deathSprite.src = \"./assets/sprites/death-effects.png\";\n    this.hitSound = new Audio('./assets/sounds/LTTP_Enemy_Hit.wav');\n    this.deathSound = new Audio('./assets/sounds/LTTP_Enemy_Kill.wav');\n\n    this.scale = 2;\n    this.frameIndex = 0;\n    this.tickCount = 0;\n    this.ticksPerFrame = 6;\n    this.walkDir = 'down';\n    this.life = 3;\n    this.delta = 1;\n    this.angle1 = true;\n    this.angle2 = true;\n    this.dropChance = 0.2;\n\n    this.move = this.move.bind(this);\n    this.toggleHit = this.toggleHit.bind(this);\n    this.drawDeath = this.drawDeath.bind(this);\n  }\n\n  vectorTowardsLink(link) {\n    const dx = (link.x() - this.x());\n    const dy = (link.y() - this.y());\n    const len = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n    return [dx / len || 0, dy / len || 0];\n  }\n\n  findMoveAngle() {\n    const angleToLink = this.angleToPos(this.link.pos);\n    let angleToLink1 = angleToLink;\n    let angleToLink2 = angleToLink;\n    let dist = this.distanceToObject(this.link);\n\n    if (dist > 150) {\n      dist = 150;\n    }\n\n    let timeOut;\n    while (true) {\n      if (this.link.walking) {\n        if (timeOut) clearTimeout(timeOut);\n        this.angle1 = true;\n        this.angle2 = true;\n      }\n      \n      if (this.angle1 && !this.checkObstacles(angleToLink1, dist)) {\n      // if (!this.checkObstacles(angleToLink1, dist)) {\n        this.angle2 = false;\n        timeOut = setTimeout(() => this.angle2 = true, 5000);\n        return angleToLink1;\n      }\n      if (this.angle2 && !this.checkObstacles(angleToLink2, dist)) {\n      // if (!this.checkObstacles(angleToLink2, dist)) {\n        this.angle1 = false;\n        timeOut = setTimeout(() => this.angle1 = true, 5000);\n        return angleToLink2;\n      }\n      if (angleToLink1 > Math.PI + angleToLink) {\n        return angleToLink;\n      }\n\n      angleToLink1 += 0.1;\n      angleToLink2 -= 0.1;\n    }\n  }\n\n  checkObstacles(angle, dist) {\n    const obstacles = this.game.obstacles;\n    for (let i = 0; i < obstacles.length; i++) {\n      const obj = obstacles[i];\n      if (this.objectBetweenSelfAndLink(obj, angle, dist)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  objectBetweenSelfAndLink(obj, angle, dist) {\n    const borders = [\n      [obj.x(), obj.y(), obj.x() + obj.width(), obj.y()],\n      [obj.x(), obj.y(), obj.x(), obj.y() + obj.height()],\n      [obj.x() + obj.width(), obj.y() + obj.height(), obj.x() + obj.width(), obj.y()],\n      [obj.x() + obj.width(), obj.y() + obj.height(), obj.x(), obj.y() + obj.height()]\n    ];\n\n    const corners = [\n      [this.x(), this.y()],\n      [this.x(), this.y() + this.height()],\n      [this.x() + this.width(), this.y()],\n      [this.x() + this.width(), this.y() + this.height()]\n    ];\n    \n    for (let i = 0; i < borders.length; i++) {\n      for (let j = 0; j < corners.length; j++) {\n        const corner = corners[j];\n        \n        const pos = borders[i];\n  \n        const newPos = this.findNewPoint(corner[0], corner[1], angle, dist);\n        if (this.intersects(corner[0], corner[1], newPos.x, newPos.y, ...pos)) {\n          return true;\n        }\n      }\n    }\n  }\n\n  intersects(a, b, c, d, p, q, r, s) {\n    let det, gamma, lambda;\n    det = (c - a) * (s - q) - (r - p) * (d - b);\n\n    if (det === 0) {\n      return false;\n    } else {\n      lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;\n      gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;\n\n      return (0 < lambda && lambda < 1) && (0 < gamma && gamma < 1);\n    }\n  }\n\n  findNewPoint(x, y, angle, distance) {\n    let result = {};\n    result.x = Math.round(Math.cos(angle) * distance + x);\n    result.y = Math.round(Math.sin(angle) * distance + y);\n    \n    return result;\n  }\n  \n  move(timeDelta) {\n    this.toggleMoveThrough();\n    let vel;\n    if (this.life === 0) {\n      vel = [0, 0];\n    } else if (!this.moveThrough) {\n      const angle = this.findMoveAngle();\n      this.vect = [Math.cos(angle), Math.sin(angle)];\n\n      vel = [this.vect[0] * this.delta, this.vect[1] * this.delta];\n      this.setWalkDir();\n  \n    } else {\n      const delta = 4;\n      vel = [this.hitVect[0] * delta, this.hitVect[1] * delta];\n    }\n\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = vel[0] * velocityScale,\n      offsetY = vel[1] * velocityScale;\n\n    const newPos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n\n    if (this.game.enemyIsOutOfBounds(newPos, this)) {\n      const newPosX = [this.pos[0] + offsetX, this.pos[1]];\n      const newPosY = [this.pos[0], this.pos[1] + offsetY];\n\n      if (!this.game.enemyIsOutOfBounds(newPosX, this)) {\n        this.pos = newPosX;\n      }\n      if (!this.game.enemyIsOutOfBounds(newPosY, this)) {\n        this.pos = newPosY;\n      }\n    } else {\n      this.pos = newPos;\n    }\n  }\n\n  toggleMoveThrough() {\n    if (!this.hit && this.moveThrough && !this.game.enemyWillCollideWithEnemy(this.pos, this)) {\n      this.moveThrough = false;\n    }\n  }\n\n  setWalkDir() {\n    const linkVect = this.vectorTowardsLink(this.link);\n\n    if (linkVect[0] > 0 && linkVect[1] > 0) {\n      if (linkVect[0] > linkVect[1]) {\n        if (this.walkDir !== 'right') this.frameIndex = 0;\n        this.walkDir = 'right';\n      } else {\n        if (this.walkDir !== 'down') this.frameIndex = 0;\n        this.walkDir = 'down';\n      }\n    } else if (linkVect[0] > 0 && linkVect[1] < 0) {\n      if (linkVect[0] > Math.abs(linkVect[1])) {\n        if (this.walkDir !== 'right') this.frameIndex = 0;\n        this.walkDir = 'right';\n      } else {\n        if (this.walkDir !== 'up') this.frameIndex = 0;\n        this.walkDir = 'up';\n      }\n    } else if (linkVect[0] < 0 && linkVect[1] > 0) {\n      if (Math.abs(linkVect[0]) > linkVect[1]) {\n        if (this.walkDir !== 'left') this.frameIndex = 0;\n        this.walkDir = 'left';\n      } else {\n        if (this.walkDir !== 'down') this.frameIndex = 0;\n        this.walkDir = 'down';\n      }\n    } else if (linkVect[0] < 0 && linkVect[1] < 0) {\n      if (Math.abs(linkVect[0]) > Math.abs(linkVect[1])) {\n        if (this.walkDir !== 'left') this.frameIndex = 0;\n        this.walkDir = 'left';\n      } else {\n        if (this.walkDir !== 'up') this.frameIndex = 0;\n        this.walkDir = 'up';\n      }\n    }\n  }\n\n  hitByLink() {\n    if (!this.hit) {\n      this.hitSound.play();\n      this.hitVect = [this.vect[0] * -1, this.vect[1] * -1];\n      this.hit = true;\n      this.moveThrough = true;\n      setTimeout(this.toggleHit, 300);\n    }\n  }\n\n  toggleHit() {\n    this.hit = !this.hit;\n    this.life -= 1;\n    if (this.life === 0) {\n      this.ticksPerFrame = 2;\n      this.frameIndex = 0;\n    }\n  }\n\n  drawDeath(ctx) {\n    this.deathSound.play();\n    ctx.drawImage(this.deathSprite,\n      DEATH[this.frameIndex][0],\n      DEATH[this.frameIndex][1],\n      DEATH[this.frameIndex][2],\n      DEATH[this.frameIndex][3],\n      this.pos[0],\n      this.pos[1],\n      DEATH[this.frameIndex][2] * this.scale,\n      DEATH[this.frameIndex][3] * this.scale\n    );\n  }\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nexport default Enemy;","class Entity {\n  constructor(options) {\n    this.pos = options.pos;\n    this.box = options.box;\n    this.game = options.game;\n  }\n\n  x() {\n    return this.pos[0];\n  }\n\n  y() {\n    return this.pos[1];\n  }\n  \n  width() {\n    return this.box[0];\n  }\n\n  height() {\n    return this.box[1];\n  }\n\n  isCollidedWith(otherObject) {\n    return (this.x() < otherObject.x() + otherObject.width() &&\n      this.x() + this.width() > otherObject.x() &&\n      this.y() < otherObject.y() + otherObject.height() &&\n      this.y() + this.height() > otherObject.y());\n  }\n\n  willCollideWith(pos, box) {\n    return (this.x() < pos[0] + box[0] &&\n      this.x() + this.width() > pos[0] &&\n      this.y() < pos[1] + box[1] &&\n      this.y() + this.height() > pos[1]);\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n\n  angleToPos(pos) {\n    const dx = this.x() - pos[0];\n    const dy = this.y() - pos[1];\n\n    if (dx > 0) {\n      return  Math.atan(dy / dx) + Math.PI;\n    } else {\n      return Math.atan(dy / dx);\n    }\n  }\n\n  distanceToObject(obj) {\n    return Math.sqrt(Math.pow(this.x() - obj.x(), 2) + Math.pow(this.y() - obj.y(), 2));\n  }\n\n  angleRangeToObject(obj) {\n    const lowerLeft = this.angleToPos([obj.x(), obj.y() + obj.height()]);\n    const lowerRight = this.angleToPos([obj.x() + obj.width(), obj.y() + obj.height()]);\n    const upperLeft = this.angleToPos([obj.x(), obj.y()]);\n    const upperRight = this.angleToPos([obj.x() + obj.width(), obj.y()]);\n    const max = Math.max(lowerLeft, lowerRight, upperLeft, upperRight);\n    const min = Math.min(lowerLeft, lowerRight, upperLeft, upperRight);\n\n    return [min, max];\n  }\n}\n\nexport default Entity;","import Link from \"./link\";\nimport Obstacle from \"./obstacle\";\nimport Moblin from \"./moblin\";\nimport Lynel from \"./lynel\";\nimport BlueKnight from \"./blue_knight\";\nimport Heart from \"./heart\";\n\nconst SPAWN_POS = [\n  [340, 650],\n  [750, 650],\n  [285, -50],\n  [720, -50]\n];\n\nclass Game {\n  constructor(options) {\n    this.pauseSound = new Audio('./assets/sounds/LTTP_Menu_Cursor.wav');\n    this.heartSound = new Audio('./assets/sounds/LTTP_RefillHealth.wav');\n    this.overworldMusic = new Audio('./assets/sounds/overworld_theme.mp3');\n    this.kakarikoMusic = new Audio('./assets/sounds/kakariko_village.mp3');\n    this.selectMusic = new Audio('./assets/sounds/select_screen.mp3');\n    this.muteButton = document.getElementById('mute');\n    this.soundButton = document.getElementById('sound');\n    this.killCount = document.getElementById('kill-count');\n\n    this.link = new Link({ game: this });\n    this.obstacles = [];\n    this.enemies = [];\n    this.items = [];\n    this.song = this.kakarikoMusic;\n    this.muted = options.muted;\n    this.spawnEnemies = false;\n    this.count = 0;\n\n    this.parseKeyDown = this.parseKeyDown.bind(this);\n    this.togglePause = this.togglePause.bind(this);\n    this.muteGame = this.muteGame.bind(this);\n    this.unmuteGame = this.unmuteGame.bind(this);\n    this.stopMusic = this.stopMusic.bind(this);\n    this.music = this.music.bind(this);\n    this.updateKillCount = this.updateKillCount.bind(this);\n\n    this.muteButton.onclick = this.muteGame;\n    this.soundButton.onclick = this.unmuteGame;\n\n    this.addObstacles();\n    this.music(this.kakarikoMusic);\n    this.updateKillCount();\n  }\n\n  parseKeyDown(e) {\n    e.preventDefault();\n    if (e.keyCode === 13) {\n      if (!this.spawnEnemies) {\n        this.addEnemies();\n        const enterEl = document.getElementById('enter');\n        enterEl.style.opacity = 0;\n        const controlsEl = document.getElementById('controls');\n        controlsEl.style.opacity = 0;\n        this.spawnEnemies = true;\n      }\n    } else if (e.keyCode === 80) {\n      if (!this.gameover) this.togglePause();\n    }\n  }\n\n  muteGame() {\n    if (!this.muted) {\n      this.soundButton.classList.toggle(\"selected\");\n      this.muteButton.classList.toggle(\"selected\");\n      this.song.pause();\n      this.song.currentTime = 0;\n      this.muted = true;\n    }\n  }\n\n  unmuteGame() {\n    if (this.muted) {\n      this.soundButton.classList.toggle(\"selected\");\n      this.muteButton.classList.toggle(\"selected\");\n      this.muted = false;\n      this.song.play();\n    }\n  }\n\n  music(song) {\n    this.song.pause();\n    this.song.currentTime = 0;\n    this.song = song;\n    this.song.onended = () => this.song.play();\n    if (!this.muted) {\n      this.song.play();\n    }\n  }\n\n  stopMusic() {\n    this.song.pause();\n  }\n\n  togglePause() {\n    const pauseEl = document.getElementById('pause');\n    this.paused = !this.paused;\n    if (this.paused) {\n      this.pauseSound.play();\n      pauseEl.style.visibility = 'visible';\n    } else {\n      pauseEl.style.visibility = 'hidden';\n    }\n  }\n\n\n  allObjects() {\n    return [this.link].concat(this.enemies).concat(this.items);\n  }\n\n  allMovingObjects() {\n    return [this.link].concat(this.enemies);\n  }\n\n  add(object) {\n    if (object instanceof Obstacle) {\n      this.obstacles.push(object);\n    } else {\n      this.enemies.push(object);\n    }\n  }\n\n  addEnemyToRandomSpawn() {\n    let pos = SPAWN_POS[Math.floor(Math.random() * 4)];\n    while (this.enemyWillCollideWithEnemy(pos, {box: [50, 50]})) {\n      pos = SPAWN_POS[Math.floor(Math.random() * 4)];\n    }\n    const enemyIdx = Math.random();\n\n    if (enemyIdx > 0.8) {\n      this.add(new Lynel({ game: this, link: this.link, pos }));\n    } else if (enemyIdx > 0.4) {\n      this.add(new Moblin({ game: this, link: this.link, pos }));\n    } else {\n      this.add(new BlueKnight({ game: this, link: this.link, pos }));\n    }\n  }\n\n  addEnemies() {\n    this.music(this.overworldMusic);\n    SPAWN_POS.forEach(pos => {\n      const enemyIdx = Math.random();\n      if (enemyIdx > 0.5) {\n        this.add(new Moblin({ game: this, link: this.link, pos }));\n      } else {\n        this.add(new BlueKnight({ game: this, link: this.link, pos }));\n      }\n    });\n  }\n\n  addHeart(pos) {\n    this.items.push(new Heart({ pos, game: this }));\n  }\n\n  remove(object) {\n    const pos = object.pos;\n    if (Math.random() < object.dropChance) this.addHeart(pos);\n\n    this.enemies.splice(this.enemies.indexOf(object), 1);\n    this.count += 1;\n    this.updateKillCount();\n  }\n\n  updateKillCount() {\n    this.killCount.innerHTML = `${this.count}`;\n  }\n\n  removeItem(object) {\n    this.items.splice(this.items.indexOf(object), 1);\n  }\n\n  isOutOfBounds(pos, box) {\n    return ((pos[0] < 0) || (pos[1] < 0) ||\n      (pos[0] > Game.DIM_X - box[0]) || (pos[1] > Game.DIM_Y - box[1])) || this.willCollideWithObstacle(pos, box);\n  }\n\n  enemyIsOutOfBounds(pos, enemy) {\n    return this.willCollideWithObstacle(pos, enemy.box) || (this.enemyWillCollideWithEnemy(pos, enemy) && !enemy.moveThrough);\n  }\n\n  enemyWillCollideWithEnemy(pos, enemy) {\n    for (let i = 0; i < this.enemies.length; i++) {\n      const otherEnemy = this.enemies[i];\n      if (enemy === otherEnemy) continue;\n      if (otherEnemy.willCollideWith(pos, enemy.box)) return true;\n    }\n    return false;\n  }\n\n  willCollideWithObstacle(pos, box) {\n    for (let i = 0; i < this.obstacles.length; i++) {\n      const obstacle = this.obstacles[i];\n      if (obstacle.willCollideWith(pos, box)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  linkCollidedWithItem() {\n    for (let i = 0; i < this.items.length; i++) {\n      const heart = this.items[i];\n      if (heart.isCollidedWith(this.link)) {\n        this.heartSound.play();\n        this.link.life += 1;\n        this.removeItem(heart);\n      }\n    }\n  }\n\n  checkEnemyCollidedWithLink() {\n    for (let i = 0; i < this.enemies.length; i++) {\n      const enemy = this.enemies[i];\n      if (enemy.isCollidedWith(this.link)) {\n        this.link.hitByEnemy(enemy.vect);\n      }\n    }\n    return false;\n  }\n\n  checkEnemyWillCollideWithSword() {\n    for (let i = 0; i < this.enemies.length; i++) {\n      const enemy = this.enemies[i];\n      if (this.link.hurtBox && enemy.isCollidedWith(this.link.hurtBox)) {\n        enemy.hitByLink();\n      }\n    }\n    return false;\n  }\n\n  moveObjects(delta) {\n    this.allMovingObjects().forEach((object) => {\n      object.move(delta);\n    });\n  }\n\n  step(delta) {\n    if (!this.paused) {\n      if (this.spawnEnemies && this.enemies.length < 4) this.addEnemyToRandomSpawn();\n      this.moveObjects(delta);\n      this.checkEnemyWillCollideWithSword();\n      this.checkEnemyCollidedWithLink();\n      this.linkCollidedWithItem();\n    }\n  }\n\n  draw(ctx) {\n    if (!this.paused) {\n      ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n      this.allObjects().forEach((object) => {\n        object.draw(ctx);\n      });\n\n      if (this.link.life === 0) {\n        this.gameover = true;\n        this.music(this.selectMusic);\n      }\n    }\n\n    // this.obstacles.forEach((object) => {\n    //   object.draw(ctx);\n    // });\n  }\n\n  addObstacles() {\n    this.add(new Obstacle({ pos: [-400, -400], box: [525, 593] }));\n    this.add(new Obstacle({ pos: [125, -400], box: [55, 477] }));\n    this.add(new Obstacle({ pos: [125, 77], box: [15, 40] }));\n    this.add(new Obstacle({ pos: [180, -400], box: [14, 438] }));\n    this.add(new Obstacle({ pos: [436, 214], box: [76, 70] }));\n    this.add(new Obstacle({ pos: [-400, 537], box: [534, 463] }));\n    this.add(new Obstacle({ pos: [-400, 487], box: [496, 50] }));\n    this.add(new Obstacle({ pos: [96, 497], box: [18, 40] }));\n    this.add(new Obstacle({ pos: [114, 511], box: [10, 26] }));\n    this.add(new Obstacle({ pos: [182, 391], box: [116, 150] }));\n    this.add(new Obstacle({ pos: [174, 410], box: [8, 92] }));\n    this.add(new Obstacle({ pos: [165, 420], box: [9, 34] }));\n    this.add(new Obstacle({ pos: [297, 420], box: [17, 38] }));\n    this.add(new Obstacle({ pos: [214, 375], box: [52, 16] }));\n    this.add(new Obstacle({ pos: [415, -400], box: [115, 472] }));\n    this.add(new Obstacle({ pos: [434, 575], box: [153, 425] }));\n    this.add(new Obstacle({ pos: [447, 560], box: [13, 15] }));\n    this.add(new Obstacle({ pos: [566, 560], box: [13, 15] }));\n    this.add(new Obstacle({ pos: [460, 542], box: [106, 33] }));\n    this.add(new Obstacle({ pos: [490, 528], box: [45, 14] }));\n    this.add(new Obstacle({ pos: [-400, 193], box: [480, 28] }));\n    this.add(new Obstacle({ pos: [-400, 220], box: [458, 75] }));\n    this.add(new Obstacle({ pos: [-400, 295], box: [417, 190] }));\n    this.add(new Obstacle({ pos: [17, 415], box: [58, 71] }));\n    this.add(new Obstacle({ pos: [17, 385], box: [38, 30] }));\n    this.add(new Obstacle({ pos: [688, 391], box: [116, 150] }));\n    this.add(new Obstacle({ pos: [680, 410], box: [8, 92] }));\n    this.add(new Obstacle({ pos: [671, 420], box: [9, 34] }));\n    this.add(new Obstacle({ pos: [803, 420], box: [17, 38] }));\n    this.add(new Obstacle({ pos: [720, 375], box: [52, 16] }));\n    this.add(new Obstacle({ pos: [688, 391], box: [116, 150] }));\n    this.add(new Obstacle({ pos: [680, 410], box: [8, 92] }));\n    this.add(new Obstacle({ pos: [671, 420], box: [9, 34] }));\n    this.add(new Obstacle({ pos: [803, 420], box: [17, 38] }));\n    this.add(new Obstacle({ pos: [720, 375], box: [52, 16] }));\n    this.add(new Obstacle({ pos: [648, 118], box: [116, 150] }));\n    this.add(new Obstacle({ pos: [640, 136], box: [8, 92] }));\n    this.add(new Obstacle({ pos: [631, 144], box: [9, 34] }));\n    this.add(new Obstacle({ pos: [763, 144], box: [17, 38] }));\n    this.add(new Obstacle({ pos: [680, 102], box: [52, 16] }));\n    this.add(new Obstacle({ pos: [890, -400], box: [160, 470] }));\n    this.add(new Obstacle({ pos: [950, 70], box: [100, 115] }));\n    this.add(new Obstacle({ pos: [927, 70], box: [23, 60] }));\n    this.add(new Obstacle({ pos: [1005, 185], box: [45, 119] }));\n    this.add(new Obstacle({ pos: [989, 185], box: [16, 51] }));\n    this.add(new Obstacle({ pos: [929, 520], box: [121, 480] }));\n    this.add(new Obstacle({ pos: [989, 404], box: [61, 116] }));\n    this.add(new Obstacle({ pos: [953, 499], box: [36, 21] }));\n    this.add(new Obstacle({ pos: [1012, 384], box: [38, 20] }));\n    this.add(new Obstacle({ pos: [1042, 302], box: [8, 82] }));\n  }\n}\n\nGame.DIM_X = 1050;\nGame.DIM_Y = 600;\nGame.FPS = 32;\n\nexport default Game;","import Game from \"./game\";\n\nclass GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n    this.link = this.game.link;\n    this.animate = this.animate.bind(this);\n    this.restartSound = new Audio('./assets/sounds/LTTP_Secret.wav');\n  }\n\n  bindKeyHandlers() {\n    document.addEventListener('keydown', this.link.parseKeyDown);\n    document.addEventListener('keydown', this.game.parseKeyDown);\n    document.addEventListener('keyup', this.link.parseKeyUp);\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n\n    requestAnimationFrame(this.animate);\n  }\n\n  animate(time) {\n    if (!this.game.gameover) {\n      const timeDelta = time - this.lastTime;\n\n      this.game.step(timeDelta);\n      this.game.draw(this.ctx);\n      this.lastTime = time;\n\n      requestAnimationFrame(this.animate);\n    } else {\n      const btn = document.createElement(\"BUTTON\");\n      const text = document.createTextNode(\"restart\");\n      const gameover = document.getElementById('gameover');\n      btn.appendChild(text);\n      btn.onclick = () => this.newGame(btn, gameover);\n      gameover.appendChild(btn);\n      gameover.style.visibility = 'visible';\n      gameover.style.opacity = 1;\n    }\n  }\n\n  newGame(btn, parent) {\n    this.restartSound.play();\n    parent.removeChild(btn);\n    parent.style.visibility = 'hidden';\n    parent.style.opacity = 0;\n    const enterEl = document.getElementById('enter');\n    enterEl.style.opacity = 1;\n    const controlsEl = document.getElementById('controls');\n    controlsEl.style.opacity = 1;\n    this.game.stopMusic();\n    this.game = new Game({ muted: this.game.muted });\n    this.link = this.game.link;\n    this.start();\n  }\n}\n\nexport default GameView;","import Entity from \"./entity\";\n\nclass Heart extends Entity {\n  constructor(options) {\n    super(options);\n    this.heartSprite = new Image();\n    this.heartSprite.src = \"./assets/sprites/items-objects.gif\";\n    this.box = [14, 13];\n    this.draw = this.draw.bind(this);\n  }\n\n  draw(ctx) {\n    ctx.drawImage(this.heartSprite, 153, 30, 14, 13, this.pos[0], this.pos[1], 21, 19.5);\n  }\n}\n\nexport default Heart;","import GameView from \"./game_view\";\nimport Game from \"./game\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n  const game = new Game({ muted: true });\n  new GameView(game, ctx).start();\n});","import Sword from \"./sword\";\nimport Entity from \"./entity\";\n\nconst WALK_DOWN = [3, 33, 63, 93, 123, 153, 183, 213];\nconst WALK_UP = [2, 32, 62, 92, 122, 152, 182, 212];\nconst WALK_SIDE = [241, 272, 301, 331, 361, 392];\nconst SWORD_UP = [\n  [0, 181, 22, 22],\n  [30, 177, 22, 30],\n  [61, 174, 20, 35],\n  [89, 177, 24, 30],\n  [115, 180, 32, 23]\n];\nconst SWORD_DOWN = [\n  [1, 90, 20, 23],\n  [30, 90, 22, 24],\n  [61, 86, 20, 31],\n  [91, 86, 20, 31],\n  [115, 87, 28, 29],\n  [145, 88, 32, 27]\n];\nconst SWORD_LEFT = [\n  [242, 90, 18, 23],\n  [268, 90, 26, 24],\n  [295, 91, 31, 21],\n  [327, 91, 28, 21],\n  [359, 86, 23, 31],\n  [393, 91, 16, 22]\n];\nconst SWORD_RIGHT = [\n  [242, 180, 18, 23],\n  [268, 180, 26, 24],\n  [295, 181, 31, 21],\n  [327, 181, 28, 21],\n  [359, 176, 23, 31],\n  [393, 181, 16, 22]\n];\n\nclass Link extends Entity {\n  constructor(options) {\n    super(options);\n    this.linkSprite = new Image();\n    this.linkSprite.src = \"./assets/sprites/link.png\";\n    this.linkSprite2 = new Image();\n    this.linkSprite2.src = \"./assets/sprites/link.gif\";\n    this.swordSound = new Audio('./assets/sounds/LTTP_Sword.wav');\n    this.hurtSound = new Audio('./assets/sounds/LTTP_Link_Hurt.wav');\n    this.deathSound = new Audio('./assets/sounds/LTTP_Link_Dying.wav');\n\n    this.scale = 2;\n    this.frameIndex = 0;\n    this.tickCount = 0;\n    this.ticksPerFrame = 6;\n    this.pos = [473, 310];\n    this.walkDir = 'down';\n    this.frameLen = 7;\n    this.box = [32, 48];\n    this.canSwing = true;\n    this.life = 3;\n\n    this.draw = this.draw.bind(this);\n    this.move = this.move.bind(this);\n    this.parseKeyDown = this.parseKeyDown.bind(this);\n    this.toggleSword = this.toggleSword.bind(this);\n    this.parseKeyUp = this.parseKeyUp.bind(this);\n    this.update = this.update.bind(this);\n    this.toggleHit = this.toggleHit.bind(this);\n    this.toggleInvinsible = this.toggleInvinsible.bind(this);\n    this.createHurtBox = this.createHurtBox.bind(this);\n  }\n\n  parseKeyUp(e) {\n    e.preventDefault();\n    if (e.keyCode === 32) this.canSwing = true;\n    if (e.keyCode === 87 || e.keyCode === 38) this.up = false;\n    if (e.keyCode === 65 || e.keyCode === 37) this.left = false;\n    if (e.keyCode === 83 || e.keyCode === 40) this.down = false;\n    if (e.keyCode === 68 || e.keyCode === 39) this.right = false;\n  }\n\n  parseKeyDown(e) {\n    e.preventDefault();\n    if (e.keyCode === 32) this.swingSword();\n    if (e.keyCode === 87 || e.keyCode === 38) this.up = true;\n    if (e.keyCode === 65 || e.keyCode === 37) this.left = true;\n    if (e.keyCode === 83 || e.keyCode === 40) this.down = true;\n    if (e.keyCode === 68 || e.keyCode === 39) this.right = true;\n  }\n\n  move(timeDelta) {\n    let vel;\n    let dx = 0;\n    let dy = 0;\n    if (this.hit) {\n      const delta = 4;\n      vel = [this.vect[0] * delta, this.vect[1] * delta];\n    } else {\n      if (!this.sword) {\n        if (this.up) dy += -1;\n        if (this.left) dx += -1;\n        if (this.down) dy += 1;\n        if (this.right) dx += 1;\n      }\n\n      const len = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n      const vect = [dx / len || 0, dy / len || 0];\n      const delta = 2;\n      vel = [vect[0] * delta, vect[1] * delta];\n\n      if (vel[0] === 0 && vel[1] === 0) {\n        this.walking = false;\n      } else {\n        if (!this.walking) this.frameIndex = 0;\n        this.walking = true;\n      }\n    }\n\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = vel[0] * velocityScale,\n      offsetY = vel[1] * velocityScale;\n\n    const newPos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n\n    if (this.game.isOutOfBounds(newPos, this.box)) {\n      const newPosX = [this.pos[0] + offsetX, this.pos[1]];\n      const newPosY = [this.pos[0], this.pos[1] + offsetY];\n\n      if (!this.game.isOutOfBounds(newPosX, this.box)) {\n        this.pos = newPosX;\n      }\n      if (!this.game.isOutOfBounds(newPosY, this.box)) {\n        this.pos = newPosY;\n      }\n    } else {\n      this.pos = newPos;\n    }\n  }\n\n\n  swingSword() {\n    if (!this.sword && this.canSwing) {\n      this.swordSound.play();\n      this.sword = true;\n      this.canSwing = false;\n      this.frameIndex = 0;\n      this.ticksPerFrame = 2;\n      if (this.walkDir === 'down') {\n        this.createHurtBox({ pos: [this.x() - 10, this.y() + 25], box: [70, 40] });\n      } else if (this.walkDir === 'up') {\n        this.createHurtBox({ pos: [this.x() - 25, this.y() - 25], box: [70, 45] });\n      } else if (this.walkDir === 'left') {\n        this.createHurtBox({ pos: [this.x() - 30, this.y()], box: [40, 60] });\n      } else if (this.walkDir === 'right') {\n        this.createHurtBox({ pos: [this.x() + 25, this.y()], box: [40, 60] });\n      }\n    }\n  }\n\n  createHurtBox(options) {\n    this.hurtBox = new Sword(options);\n  }\n\n  toggleSword() {\n    this.ticksPerFrame = 6;\n    this.sword = !this.sword;\n    this.frameLen = WALK_SIDE.length;\n    this.hurtBox = null;\n  }\n\n  hitByEnemy(vect) {\n    if (!this.invisible) {\n      this.hurtSound.play();\n      this.vect = vect;\n      this.hit = true;\n      this.invisible = true;\n      this.invisibleFrameCount = 1;\n      this.life -= 1;\n      setTimeout(this.toggleHit, 300);\n      setTimeout(this.toggleInvinsible, 2000);\n    }\n  }\n\n  toggleHit() {\n    this.hit = !this.hit;\n  }\n\n  toggleInvinsible() {\n    this.invisible = !this.invisible;\n  }\n\n\n  draw(ctx) {\n    if (this.life === 0) {\n      this.deathSound.play();\n      ctx.drawImage(this.linkSprite, 89, 214, 24, 15, this.pos[0], this.pos[1], 48, 30);\n    } else {\n      if (!(this.invisible && this.invisibleFrameCount % 2 === 0)) {\n        if (this.sword) {\n          this.drawSwingSword(ctx);\n        } else {\n          this.setWalkDir();\n          if (this.walking) {\n            this.drawLinkWalking(ctx);\n          } else {\n            this.drawLinkStanding(ctx);\n          }\n        }\n      }\n    }\n\n    // if (this.hurtBox) this.hurtBox.draw(ctx);\n    this.drawLife(ctx);\n    this.update();\n  }\n\n  drawLinkWalking(ctx) {\n    if (this.walkDir === 'down') {\n      ctx.drawImage(this.linkSprite, WALK_DOWN[this.frameIndex], 30, 16, 24, this.pos[0], this.pos[1], 32, 48);\n    } else if (this.walkDir === 'up') {\n      ctx.drawImage(this.linkSprite, WALK_UP[this.frameIndex], 120, 17, 24, this.pos[0], this.pos[1], 34, 48);\n    } else if (this.walkDir === 'right') {\n      ctx.drawImage(this.linkSprite, WALK_SIDE[this.frameIndex], 120, 19, 24, this.pos[0], this.pos[1], 38, 48);\n    } else if (this.walkDir === 'left') {\n      ctx.drawImage(this.linkSprite, WALK_SIDE[this.frameIndex], 30, 19, 24, this.pos[0], this.pos[1], 38, 48);\n    }\n  }\n\n  drawLinkStanding(ctx) {\n    if (this.walkDir === 'down') {\n      ctx.drawImage(this.linkSprite, 33, 1, 16, 22, this.pos[0], this.pos[1], 32, 44);\n    } else if (this.walkDir === 'up') {\n      ctx.drawImage(this.linkSprite, 63, 1, 16, 22, this.pos[0], this.pos[1], 32, 44);\n    } else if (this.walkDir === 'right') {\n      ctx.drawImage(this.linkSprite, 331, 120, 19, 23, this.pos[0], this.pos[1], 38, 46);\n    } else if (this.walkDir === 'left') {\n      ctx.drawImage(this.linkSprite, 151, 0, 19, 23, this.pos[0], this.pos[1], 38, 46);\n    }\n  }\n\n  drawSwingSword(ctx) {\n    if (this.walkDir === 'down') {\n      this.frameLen = SWORD_DOWN.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_DOWN[this.frameIndex][0],\n        SWORD_DOWN[this.frameIndex][1],\n        SWORD_DOWN[this.frameIndex][2],\n        SWORD_DOWN[this.frameIndex][3],\n        this.pos[0],\n        this.pos[1],\n        SWORD_DOWN[this.frameIndex][2] * this.scale,\n        SWORD_DOWN[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'up') {\n      this.frameLen = SWORD_UP.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_UP[this.frameIndex][0],\n        SWORD_UP[this.frameIndex][1],\n        SWORD_UP[this.frameIndex][2],\n        SWORD_UP[this.frameIndex][3],\n        this.pos[0] - SWORD_UP[this.frameIndex][2] * this.scale + 40,\n        this.pos[1] - SWORD_UP[this.frameIndex][3] * this.scale + 42,\n        SWORD_UP[this.frameIndex][2] * this.scale,\n        SWORD_UP[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'left') {\n      this.frameLen = SWORD_LEFT.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_LEFT[this.frameIndex][0],\n        SWORD_LEFT[this.frameIndex][1],\n        SWORD_LEFT[this.frameIndex][2],\n        SWORD_LEFT[this.frameIndex][3],\n        this.pos[0] - SWORD_LEFT[this.frameIndex][2] * this.scale + 32,\n        this.pos[1],\n        SWORD_LEFT[this.frameIndex][2] * this.scale,\n        SWORD_LEFT[this.frameIndex][3] * this.scale\n      );\n    } else if (this.walkDir === 'right') {\n      this.frameLen = SWORD_LEFT.length;\n      ctx.drawImage(this.linkSprite,\n        SWORD_RIGHT[this.frameIndex][0],\n        SWORD_RIGHT[this.frameIndex][1],\n        SWORD_RIGHT[this.frameIndex][2],\n        SWORD_RIGHT[this.frameIndex][3],\n        this.pos[0],\n        this.pos[1],\n        SWORD_RIGHT[this.frameIndex][2] * this.scale,\n        SWORD_RIGHT[this.frameIndex][3] * this.scale\n      );\n    }\n  }\n\n  drawLife(ctx) {\n    let spriteX;\n    for (let i = 1; i <= 3; i++) {\n      if (i > this.life) {\n        spriteX = 456;\n      } else {\n        spriteX = 440;\n      }\n\n      ctx.drawImage(this.linkSprite2, spriteX, 147, 7, 7, 900 + i * 35, 10, 28, 28);\n    }\n  }\n\n  setWalkDir() {\n    if (this.down && !this.left && !this.right && !this.up) {\n      if (this.walkDir !== 'down') this.frameIndex = 0;\n      this.walkDir = 'down';\n      this.frameLen = WALK_DOWN.length;\n    } else if (!this.down && this.left && !this.right && !this.up) {\n      if (this.walkDir !== 'left') this.frameIndex = 0;\n      this.walkDir = 'left';\n      this.frameLen = WALK_SIDE.length;\n    } else if (!this.down && !this.left && this.right && !this.up) {\n      if (this.walkDir !== 'right') this.frameIndex = 0;\n      this.walkDir = 'right';\n      this.frameLen = WALK_SIDE.length;\n    } else if (!this.down && !this.left && !this.right && this.up) {\n      if (this.walkDir !== 'up') this.frameIndex = 0;\n      this.walkDir = 'up';\n      this.frameLen = WALK_UP.length;\n    }\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.invisible) this.invisibleFrameCount += 1;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        this.frameIndex = 0;\n        if (this.sword) this.toggleSword();\n      }\n    }\n  }\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000 / 60;\n\nexport default Link;","import Enemy from \"./enemy\";\n\nconst LYNEL_DOWN = [\n  [241, 321, 22, 26],\n  [241, 361, 22, 26],\n  [241, 401, 22, 26]\n];\nconst LYNEL_UP = [\n  [321, 318, 22, 31],\n  [321, 358, 22, 31]\n];\nconst LYNEL_LEFT = [\n  [280, 320, 24, 27],\n  [280, 361, 24, 26],\n  [281, 400, 23, 27]\n];\nconst LYNEL_RIGHT = [\n  [41, 320, 24, 27],\n  [41, 361, 24, 26],\n  [41, 400, 23, 27]\n];\n\nclass Lynel extends Enemy {\n  constructor(options) {\n    super(options);\n    this.lynelSprite = new Image();\n    this.lynelSprite.src = \"./assets/sprites/enemies.png\";\n    this.lynelSprite2 = new Image();\n    this.lynelSprite2.src = \"./assets/sprites/enemies2.png\";\n\n    this.frameLen = 3;\n    this.box = [44, 52];\n    this.life = 4;\n    this.delta = 1.5;\n    this.dropChance = 1;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life === 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life === 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        this.frameLen = LYNEL_DOWN.length;\n        ctx.drawImage(this.lynelSprite,\n          LYNEL_DOWN[this.frameIndex][0],\n          LYNEL_DOWN[this.frameIndex][1],\n          LYNEL_DOWN[this.frameIndex][2],\n          LYNEL_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          LYNEL_DOWN[this.frameIndex][2] * this.scale,\n          LYNEL_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        this.frameLen = LYNEL_UP.length;\n        ctx.drawImage(this.lynelSprite,\n          LYNEL_UP[this.frameIndex][0],\n          LYNEL_UP[this.frameIndex][1],\n          LYNEL_UP[this.frameIndex][2],\n          LYNEL_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1] - LYNEL_UP[this.frameIndex][3] * this.scale + 48,\n          LYNEL_UP[this.frameIndex][2] * this.scale,\n          LYNEL_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        this.frameLen = LYNEL_LEFT.length;\n        ctx.drawImage(this.lynelSprite,\n          LYNEL_LEFT[this.frameIndex][0],\n          LYNEL_LEFT[this.frameIndex][1],\n          LYNEL_LEFT[this.frameIndex][2],\n          LYNEL_LEFT[this.frameIndex][3],\n          this.pos[0] - LYNEL_LEFT[this.frameIndex][2] * this.scale + 28,\n          this.pos[1],\n          LYNEL_LEFT[this.frameIndex][2] * this.scale,\n          LYNEL_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        this.frameLen = LYNEL_RIGHT.length;\n        ctx.drawImage(this.lynelSprite2,\n          LYNEL_RIGHT[this.frameIndex][0],\n          LYNEL_RIGHT[this.frameIndex][1],\n          LYNEL_RIGHT[this.frameIndex][2],\n          LYNEL_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          LYNEL_RIGHT[this.frameIndex][2] * this.scale,\n          LYNEL_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default Lynel;","import Enemy from \"./enemy\";\n\nconst MOBLIN_DOWN = [\n  [124, 0, 16, 28],\n  [124, 38, 16, 32],\n  [123, 81, 16, 28],\n  [124, 121, 16, 26]\n];\nconst MOBLIN_UP = [\n  [203, 1, 18, 25],\n  [203, 41, 18, 25],\n  [203, 80, 18, 28],\n  [204, 121, 16, 25]\n];\nconst MOBLIN_LEFT = [\n  [225, 15, 19, 25],\n  [222, 56, 24, 24],\n  [226, 95, 17, 25],\n  [227, 136, 14, 24]\n];\nconst MOBLIN_RIGHT = [\n  [162, 1, 19, 25],\n  [160, 42, 24, 24],\n  [163, 81, 17, 25],\n  [165, 122, 14, 24]\n];\n\nclass Moblin extends Enemy {\n  constructor(options) {\n    super(options);\n    this.moblinSprite = new Image();\n    this.moblinSprite.src = \"./assets/sprites/enemies.png\";\n\n    this.frameLen = 4;\n    this.box = [28, 48];\n    this.delta = 1;\n\n    this.draw = this.draw.bind(this);\n    this.update = this.update.bind(this);\n  }\n\n  update() {\n    this.tickCount += 1;\n    if (this.tickCount > this.ticksPerFrame) {\n      this.tickCount = 0;\n      if (this.frameIndex < this.frameLen - 1) {\n        this.frameIndex += 1;\n      } else {\n        if (this.life === 0) this.remove();\n        this.frameIndex = 0;\n      }\n    }\n  }\n\n  draw(ctx) {\n    if (this.life === 0) {\n      this.drawDeath(ctx);\n    } else {\n      if (this.walkDir === 'down') {\n        ctx.drawImage(this.moblinSprite,\n          MOBLIN_DOWN[this.frameIndex][0],\n          MOBLIN_DOWN[this.frameIndex][1],\n          MOBLIN_DOWN[this.frameIndex][2],\n          MOBLIN_DOWN[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MOBLIN_DOWN[this.frameIndex][2] * this.scale,\n          MOBLIN_DOWN[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'up') {\n        ctx.drawImage(this.moblinSprite,\n          MOBLIN_UP[this.frameIndex][0],\n          MOBLIN_UP[this.frameIndex][1],\n          MOBLIN_UP[this.frameIndex][2],\n          MOBLIN_UP[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1] - MOBLIN_UP[this.frameIndex][3] * this.scale + 48,\n          MOBLIN_UP[this.frameIndex][2] * this.scale,\n          MOBLIN_UP[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'left') {\n        ctx.drawImage(this.moblinSprite,\n          MOBLIN_LEFT[this.frameIndex][0],\n          MOBLIN_LEFT[this.frameIndex][1],\n          MOBLIN_LEFT[this.frameIndex][2],\n          MOBLIN_LEFT[this.frameIndex][3],\n          this.pos[0] - MOBLIN_LEFT[this.frameIndex][2] * this.scale + 28,\n          this.pos[1],\n          MOBLIN_LEFT[this.frameIndex][2] * this.scale,\n          MOBLIN_LEFT[this.frameIndex][3] * this.scale\n        );\n      } else if (this.walkDir === 'right') {\n        ctx.drawImage(this.moblinSprite,\n          MOBLIN_RIGHT[this.frameIndex][0],\n          MOBLIN_RIGHT[this.frameIndex][1],\n          MOBLIN_RIGHT[this.frameIndex][2],\n          MOBLIN_RIGHT[this.frameIndex][3],\n          this.pos[0],\n          this.pos[1],\n          MOBLIN_RIGHT[this.frameIndex][2] * this.scale,\n          MOBLIN_RIGHT[this.frameIndex][3] * this.scale\n        );\n      }\n    }\n\n    this.update();\n  }\n\n}\n\nexport default Moblin;","import Entity from \"./entity\";\n\nclass Obstacle extends Entity {\n  // constructor(options) {\n  //   super(options);\n  //   this.draw = this.draw.bind(this);\n  // }\n\n  // draw(ctx) {\n  //   ctx.beginPath();\n  //   ctx.lineWidth = \"1\";\n  //   ctx.strokeStyle = \"black\";\n  //   ctx.rect(this.pos[0], this.pos[1], this.width(), this.height());\n  //   ctx.stroke();\n  // }\n}\n\nexport default Obstacle;","import Entity from \"./entity\";\n\nclass Sword extends Entity {\n  // constructor(options) {\n  //   super(options);\n  //   this.draw = this.draw.bind(this);\n  // }\n\n  // draw(ctx) {\n  //   ctx.beginPath();\n  //   ctx.lineWidth = \"1\";\n  //   ctx.strokeStyle = \"black\";\n  //   ctx.rect(this.x(), this.y(), this.width(), this.height());\n  //   ctx.stroke();\n  // }\n}\n\nexport default Sword;"],"sourceRoot":""}